this.itsec=this.itsec||{},this.itsec.dashboard=this.itsec.dashboard||{},this.itsec.dashboard.api=(window.itsecWebpackJsonP=window.itsecWebpackJsonP||[]).push([[14],{"/fTC":function(e,t,r){var n,a;n=function(){var e=/^;\s*([^"=]+)=(?:"([^"]+)"|([^";,]+)(?:[;,]|$))/,t=/^<([^>]*)>/,r=/^\s*,\s*/;return{parse:function(n,a){for(var d,i,s,o=a&&a.extended||!1,u=[];n&&(n=n.trim(),i=t.exec(n));){for(var c={link:i[1]},f=(n=n.slice(i[0].length)).match(r);n&&(!f||f.index>0)&&(d=e.exec(n));)f=(n=n.slice(d[0].length)).match(r),"rel"===d[1]||"rev"===d[1]?(s=(d[2]||d[3]).split(/\s+/),c[d[1]]=s):c[d[1]]=d[2]||d[3];u.push(c),n=n.replace(r,"")}return o?u:u.reduce((function(e,t){return t.rel&&t.rel.forEach((function(r){e[r]=t.link})),e}),{})},stringify:function(e){var t=Object.keys(e).reduce((function(t,r){return t[e[r]]=t[e[r]]||[],t[e[r]].push(r),t}),{});return Object.keys(t).reduce((function(e,r){return e.concat("<"+r+'>; rel="'+t[r].join(" ")+'"')}),[]).join(", ")}}},a=this,e.exports?e.exports=n():"function"==typeof a.define&&a.define.amd?define(n):a.li=n()},"1ZqX":function(e,t){!function(){e.exports=this.wp.data}()},"4eJC":function(e,t,r){e.exports=function(e,t){var r,n,a=0;function d(){var d,i,s=r,o=arguments.length;e:for(;s;){if(s.args.length===arguments.length){for(i=0;i<o;i++)if(s.args[i]!==arguments[i]){s=s.next;continue e}return s!==r&&(s===n&&(n=s.prev),s.prev.next=s.next,s.next&&(s.next.prev=s.prev),s.next=r,s.prev=null,r.prev=s,r=s),s.val}s=s.next}for(d=new Array(o),i=0;i<o;i++)d[i]=arguments[i];return s={args:d,val:e.apply(null,d)},r?(r.prev=s,s.next=r):n=s,a===t.maxSize?(n=n.prev).next=null:a++,r=s,s.val}return t=t||{},d.clear=function(){r=null,n=null,a=0},d}},Akk5:function(e,t,r){"use strict";r.r(t),r.d(t,"AdminBarFill",(function(){return Zr})),r.d(t,"AdminBarSlot",(function(){return Xr})),r.d(t,"BelowToolbarFill",(function(){return Kr})),r.d(t,"BelowToolbarSlot",(function(){return en})),r.d(t,"EditCardsFill",(function(){return tn})),r.d(t,"EditCardsSlot",(function(){return rn}));var n={};r.r(n),r.d(n,"receiveDashboardQuery",(function(){return x})),r.d(n,"receiveDashboard",(function(){return B})),r.d(n,"receiveDashboardLayout",(function(){return L})),r.d(n,"savingDashboardLayout",(function(){return k})),r.d(n,"startAddDashboard",(function(){return F})),r.d(n,"finishAddDashboard",(function(){return P})),r.d(n,"failedAddDashboard",(function(){return V})),r.d(n,"receiveDashboardCollectionHeaders",(function(){return N})),r.d(n,"startSaveDashboard",(function(){return U})),r.d(n,"finishSaveDashboard",(function(){return q})),r.d(n,"failedSaveDashboard",(function(){return Q})),r.d(n,"startDeleteDashboard",(function(){return G})),r.d(n,"finishDeleteDashboard",(function(){return M})),r.d(n,"failedDeleteDashboard",(function(){return z})),r.d(n,"addDashboard",(function(){return W})),r.d(n,"saveDashboard",(function(){return Y})),r.d(n,"saveDashboardLayoutFromGrid",(function(){return J})),r.d(n,"saveDashboardLayout",(function(){return Z})),r.d(n,"deleteDashboard",(function(){return X})),r.d(n,"RECEIVE_DASHBOARD_QUERY",(function(){return K})),r.d(n,"RECEIVE_DASHBOARD",(function(){return ee})),r.d(n,"RECEIVE_DASHBOARD_LAYOUT",(function(){return te})),r.d(n,"SAVING_DASHBOARD_LAYOUT",(function(){return re})),r.d(n,"START_ADD_DASHBOARD",(function(){return ne})),r.d(n,"FINISH_ADD_DASHBOARD",(function(){return ae})),r.d(n,"FAILED_ADD_DASHBOARD",(function(){return de})),r.d(n,"START_SAVE_DASHBOARD",(function(){return ie})),r.d(n,"FINISH_SAVE_DASHBOARD",(function(){return se})),r.d(n,"FAILED_SAVE_DASHBOARD",(function(){return oe})),r.d(n,"START_DELETE_DASHBOARD",(function(){return ue})),r.d(n,"FINISH_DELETE_DASHBOARD",(function(){return ce})),r.d(n,"FAILED_DELETE_DASHBOARD",(function(){return fe})),r.d(n,"RECEIVE_DASHBOARD_COLLECTION_HEADERS",(function(){return le}));var a={};r.r(a),r.d(a,"getAvailableDashboards",(function(){return Ae})),r.d(a,"getDashboardsQueryResult",(function(){return pe})),r.d(a,"getDashboard",(function(){return _e})),r.d(a,"getDashboardForEdit",(function(){return Oe})),r.d(a,"canEditDashboard",(function(){return Ee})),r.d(a,"canCreateDashboards",(function(){return Re})),r.d(a,"getDashboardAddableCardLDOs",(function(){return ve})),r.d(a,"isCardAtDashboardLimit",(function(){return Se})),r.d(a,"isRequestingDashboards",(function(){return Ce})),r.d(a,"isRequestingDashboardLayout",(function(){return Ie})),r.d(a,"isLayoutLoaded",(function(){return me})),r.d(a,"isCanCreateDashboardsLoaded",(function(){return je})),r.d(a,"isSavingDashboardLayout",(function(){return He})),r.d(a,"getDashboardLayout",(function(){return we})),r.d(a,"getDashboardLayoutForGrid",(function(){return Te})),r.d(a,"isAddingDashboard",(function(){return xe})),r.d(a,"isSavingDashboard",(function(){return Be})),r.d(a,"isDeletingDashboard",(function(){return Le}));var d={};r.r(d),r.d(d,"getAvailableDashboards",(function(){return ke})),r.d(d,"canCreateDashboards",(function(){return Fe})),r.d(d,"getDashboard",(function(){return Pe})),r.d(d,"getDashboardForEdit",(function(){return Ve})),r.d(d,"getDashboardLayout",(function(){return Ne}));var i={};r.r(i),r.d(i,"receiveAvailableCards",(function(){return Ue})),r.d(i,"RECEIVE_AVAILABLE_CARDS",(function(){return qe}));var s={};r.r(s),r.d(s,"receiveDashboardCards",(function(){return Qe})),r.d(s,"receiveDashboardCard",(function(){return Ge})),r.d(s,"receiveDashboardCardQueryArgs",(function(){return Me})),r.d(s,"receiveDashboardCardData",(function(){return ze})),r.d(s,"dashboardCardRemoved",(function(){return We})),r.d(s,"startDashboardCardRemove",(function(){return Ye})),r.d(s,"startAddDashboardCard",(function(){return $e})),r.d(s,"finishAddDashboardCard",(function(){return Je})),r.d(s,"failedAddDashboardCard",(function(){return Ze})),r.d(s,"startDashboardCardRpc",(function(){return Xe})),r.d(s,"finishDashboardCardRpc",(function(){return Ke})),r.d(s,"failedDashboardCardRpc",(function(){return et})),r.d(s,"startRefreshDashboardCards",(function(){return tt})),r.d(s,"finishRefreshDashboardCards",(function(){return rt})),r.d(s,"failedRefreshDashboardCards",(function(){return nt})),r.d(s,"startRefreshDashboardCard",(function(){return at})),r.d(s,"finishRefreshDashboardCard",(function(){return dt})),r.d(s,"failedRefreshDashboardCard",(function(){return it})),r.d(s,"startQueryDashboardCard",(function(){return st})),r.d(s,"finishQueryDashboardCard",(function(){return ot})),r.d(s,"failedQueryDashboardCard",(function(){return ut})),r.d(s,"addDashboardCard",(function(){return ct})),r.d(s,"saveDashboardCard",(function(){return ft})),r.d(s,"removeDashboardCard",(function(){return lt})),r.d(s,"refreshDashboardCards",(function(){return ht})),r.d(s,"refreshDashboardCard",(function(){return bt})),r.d(s,"queryDashboardCard",(function(){return yt})),r.d(s,"callDashboardCardRpc",(function(){return Dt})),r.d(s,"RECEIVE_DASHBOARD_CARDS",(function(){return gt})),r.d(s,"RECEIVE_DASHBOARD_CARD",(function(){return At})),r.d(s,"RECEIVE_DASHBOARD_CARD_QUERY_ARGS",(function(){return pt})),r.d(s,"RECEIVE_DASHBOARD_CARD_DATA",(function(){return _t})),r.d(s,"REMOVE_DASHBOARD_CARD",(function(){return Ot})),r.d(s,"START_REMOVE_DASHBOARD_CARD",(function(){return Et})),r.d(s,"START_ADD_DASHBOARD_CARD",(function(){return Rt})),r.d(s,"FINISH_ADD_DASHBOARD_CARD",(function(){return vt})),r.d(s,"FAILED_ADD_DASHBOARD_CARD",(function(){return St})),r.d(s,"START_DASHBOARD_CARD_RPC",(function(){return Ct})),r.d(s,"FINISH_DASHBOARD_CARD_RPC",(function(){return It})),r.d(s,"FAILED_DASHBOARD_CARD_RPC",(function(){return mt})),r.d(s,"START_REFRESH_DASHBOARD_CARDS",(function(){return jt})),r.d(s,"FINISH_REFRESH_DASHBOARD_CARDS",(function(){return Ht})),r.d(s,"FAILED_REFRESH_DASHBOARD_CARDS",(function(){return wt})),r.d(s,"START_REFRESH_DASHBOARD_CARD",(function(){return Tt})),r.d(s,"FINISH_REFRESH_DASHBOARD_CARD",(function(){return xt})),r.d(s,"FAILED_REFRESH_DASHBOARD_CARD",(function(){return Bt})),r.d(s,"START_QUERY_DASHBOARD_CARD",(function(){return Lt})),r.d(s,"FINISH_QUERY_DASHBOARD_CARD",(function(){return kt})),r.d(s,"FAILED_QUERY_DASHBOARD_CARD",(function(){return Ft}));var o={};r.r(o),r.d(o,"getAvailableCards",(function(){return Pt})),r.d(o,"getAvailableCard",(function(){return Vt})),r.d(o,"getAvailableCardBySelf",(function(){return Nt}));var u={};r.r(u),r.d(u,"getAvailableCards",(function(){return Ut})),r.d(u,"getAvailableCard",(function(){return qt})),r.d(u,"getAvailableCardBySelf",(function(){return Qt}));var c={};r.r(c),r.d(c,"getDashboardCards",(function(){return Mt})),r.d(c,"getDashboardCard",(function(){return zt})),r.d(c,"getDashboardCardSettings",(function(){return Wt})),r.d(c,"getDashboardCardQueryArgs",(function(){return Yt})),r.d(c,"getDashboardCardConfig",(function(){return $t})),r.d(c,"getDashboardCardsByType",(function(){return Jt})),r.d(c,"canEditCard",(function(){return Zt})),r.d(c,"isRequestingCards",(function(){return Xt})),r.d(c,"isRefreshingDashboardCards",(function(){return Kt})),r.d(c,"areCardsLoaded",(function(){return er})),r.d(c,"isRemovingCard",(function(){return tr})),r.d(c,"isAddingCard",(function(){return rr})),r.d(c,"isCallingDashboardCardRpc",(function(){return nr})),r.d(c,"getCallingDashboardCardRpcs",(function(){return dr})),r.d(c,"isQueryingDashboardCard",(function(){return ir}));var f={};r.r(f),r.d(f,"getDashboardCards",(function(){return sr})),r.d(f,"getDashboardCardConfig",(function(){return or}));var l={};r.r(l),r.d(l,"viewDashboard",(function(){return ur})),r.d(l,"viewCreateDashboard",(function(){return cr})),r.d(l,"viewHelp",(function(){return fr})),r.d(l,"viewPrevious",(function(){return lr})),r.d(l,"openEditCards",(function(){return hr})),r.d(l,"closeEditCards",(function(){return br})),r.d(l,"receiveSuggestedShareUsers",(function(){return yr})),r.d(l,"receiveUser",(function(){return Dr})),r.d(l,"receiveStaticStats",(function(){return gr})),r.d(l,"usingTouch",(function(){return Ar})),r.d(l,"registerCard",(function(){return pr})),r.d(l,"NAVIGATE",(function(){return _r})),r.d(l,"NAVIGATE_BACK",(function(){return Or})),r.d(l,"RECEIVE_SUGGESTED_SHARE_USERS",(function(){return Er})),r.d(l,"RECEIVE_USER",(function(){return Rr})),r.d(l,"OPEN_EDIT_CARDS",(function(){return vr})),r.d(l,"CLOSE_EDIT_CARDS",(function(){return Sr})),r.d(l,"RECEIVE_STATIC_STATS",(function(){return Cr})),r.d(l,"USING_TOUCH",(function(){return Ir})),r.d(l,"REGISTER_CARD",(function(){return mr}));var h={};r.r(h),r.d(h,"getCurrentPage",(function(){return Hr})),r.d(h,"getCurrentPageAttr",(function(){return wr})),r.d(h,"getViewingDashboardId",(function(){return Tr})),r.d(h,"getSuggestedShareUsers",(function(){return xr})),r.d(h,"getUser",(function(){return Br})),r.d(h,"isEditingCards",(function(){return Lr})),r.d(h,"getStaticStats",(function(){return kr})),r.d(h,"isUsingTouch",(function(){return Fr})),r.d(h,"getRegisteredCard",(function(){return Pr}));var b={};r.r(b),r.d(b,"getSuggestedShareUsers",(function(){return Ur})),r.d(b,"getUser",(function(){return qr})),r.d(b,"getStaticStats",(function(){return Qr}));var y={};r.r(y),r.d(y,"receivePrimaryDashboard",(function(){return Gr})),r.d(y,"setPrimaryDashboard",(function(){return Mr})),r.d(y,"RECEIVE_PRIMARY_DASHBOARD",(function(){return zr}));var D={};r.r(D),r.d(D,"getPrimaryDashboard",(function(){return Yr}));var g={};r.r(g),r.d(g,"getPrimaryDashboard",(function(){return $r}));var A=r("pVnL"),p=r.n(A),_=r("GRId"),O=r("YLtl"),E=r("tI+e"),R=r("1ZqX"),v=r("ywyh"),S=r.n(v),C=r("Td6G");function I(e){return{type:"API_FETCH",request:e}}function m(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"info",t=arguments.length>1?arguments[1]:void 0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return{type:"CREATE_NOTICE",status:e,content:t,options:{context:"ithemes-security",...r}}}var j={API_FETCH(e){let{request:t}=e;return S()(t).catch(C.l)},SELECT(e){let{selectorName:t,args:r}=e;return Object(R.select)("ithemes-security/dashboard")[t](...r)},CREATE_NOTICE(e){let{status:t,content:r,options:n}=e;n.autoDismiss&&(n.id=n.id||Object(O.uniqueId)("itsec-auto-dismiss-"),setTimeout(()=>Object(R.dispatch)("core/notices").removeNotice(n.id,n.context),n.autoDismiss)),Object(R.dispatch)("core/notices").createNotice(t,r,n)}},H=r("Mmq9"),w=r("l3Sj"),T=r("Z6ex");function x(e,t){return{type:K,queryId:e,dashboards:t}}function B(e){return{type:ee,dashboard:e}}function L(e,t){return{type:te,dashboardId:e,layout:t}}function k(e,t){return{type:re,dashboardId:e,layout:t}}function F(e,t){return{type:ne,dashboard:e,context:t}}function P(e,t,r){return{type:ae,dashboard:e,created:t,context:r}}function V(e,t,r){return{type:de,dashboard:e,context:t,error:r}}function N(e){return{type:le,headers:e}}function U(e){return{type:ie,dashboardId:e}}function q(e){return{type:se,dashboardId:e}}function Q(e,t){return{type:oe,dashboardId:e,error:t}}function G(e){return{type:ue,dashboardId:e}}function M(e){return{type:ce,dashboardId:e}}function z(e,t){return{type:fe,dashboardId:e,error:t}}function*W(e,t){let r;yield F(e,t);try{r=yield $(e)}catch(r){return yield V(e,t,r),void(yield m("error",Object(w.sprintf)(Object(w.__)("Error when creating dashboard: %s","better-wp-security"),r.message)))}yield B(r),yield P(e,r,t),yield m("success",Object(w.__)("Dashboard Created","better-wp-security"),{autoDismiss:1e4})}function*Y(e){let t;yield U(e.id);try{t=yield $(e)}catch(t){return yield Q(e.id,t),yield m("error",Object(w.sprintf)(Object(w.__)("Error when saving dashboard: %s","better-wp-security"),t.message)),t}return yield B(t),yield q(e.id),t}function*$(e){return yield I({path:Object(H.addQueryArgs)("/ithemes-security/v1/dashboards"+(e.id?"/"+e.id:""),{_embed:1}),method:e.id?"PUT":"POST",data:e})}function*J(e,t){const r=Object(T.n)(e,t);if(yield L(e,r),Object(R.select)("ithemes-security/dashboard").canEditDashboard(e))return yield Z(e,r,!1)}function*Z(e,t){let r,n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];yield k(e,t);try{r=yield I({path:`/ithemes-security/v1/dashboards/${e}/layout`,method:"PUT",data:t})}catch(e){return!1}return n&&(yield L(e,r)),r}function*X(e){yield G(e);try{yield I({path:"/ithemes-security/v1/dashboards/"+e,method:"DELETE"})}catch(t){return yield z(e,t),yield m("error",Object(w.sprintf)(Object(w.__)("Error when deleting dashboard: %s","better-wp-security"),t.message)),t}return yield M(e),!0}const K="RECEIVE_DASHBOARD_QUERY",ee="RECEIVE_DASHBOARD",te="RECEIVE_DASHBOARD_LAYOUT",re="SAVING_DASHBOARD_LAYOUT",ne="START_ADD_DASHBOARD",ae="FINISH_ADD_DASHBOARD",de="FAILED_ADD_DASHBOARD",ie="START_SAVE_DASHBOARD",se="FINISH_SAVE_DASHBOARD",oe="FAILED_SAVE_DASHBOARD",ue="START_DELETE_DASHBOARD",ce="FINISH_DELETE_DASHBOARD",fe="FAILED_DELETE_DASHBOARD",le="RECEIVE_DASHBOARD_COLLECTION_HEADERS",he={byId:{},queries:{},layouts:{},savingLayouts:{},adding:[],saving:[],deleting:[],collectionHeaders:{}};var be=r("pPDe"),ye=r("/fTC");function De(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];return Object(R.select)("core/data").isResolving("ithemes-security/dashboard",e,r)}function ge(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];return Object(R.select)("core/data").hasFinishedResolution("ithemes-security/dashboard",e,r)}function Ae(e){return pe(e,"available")}const pe=Object(be.a)((e,t)=>Object(O.filter)(Object(O.map)(e.dashboard.queries[t],t=>e.dashboard.byId[t]),O.isObject),(e,t)=>[e.dashboard.queries[t],e.dashboard.byId]);function _e(e,t){return e.dashboard.byId[t]}function Oe(e,t){return e.dashboard.byId[t]}function Ee(e,t){return function(e,t,r){return Object(O.get)(e,["dashboard","byId",t,"_links","self",0,"targetHints",r],[])}(e,t,"allow").includes("PUT")}function Re(e){return e.dashboard.collectionHeaders.allow&&e.dashboard.collectionHeaders.allow.split(", ").includes("POST")}const ve=Object(be.a)((e,t)=>Object(O.filter)(Object(O.get)(e,["dashboard","byId",t,"_links","create-form"],[]),e=>Object(O.get)(e,["targetHints","allow"],[]).includes("POST")).map(e=>({...e,aboutLink:e.targetHints.link.map(ye.parse).filter(e=>!!e.about).map(e=>e.about)[0]})),(e,t)=>[e.dashboard.byId[t]]);function Se(e,t,r){const n=Object(R.select)("ithemes-security/dashboard").getAvailableCardBySelf(r);if(!n||!n.max)return!1;return Object(R.select)("ithemes-security/dashboard").getDashboardCardsByType(t,r).length>=n.max}function Ce(){return De("getAvailableDashboards")}function Ie(e,t){return De("getDashboardLayout",t)}function me(e,t){return ge("getDashboardLayout",t)}function je(){return ge("canCreateDashboards")}function He(e,t){return e.dashboard.savingLayouts[t]}function we(e,t){return e.dashboard.layouts[t]}const Te=Object(be.a)((e,t)=>Object(T.l)(t,Object(O.get)(Object(R.select)("ithemes-security/dashboard").getDashboardLayout(t),"cards",[]),Object(R.select)("ithemes-security/dashboard").getDashboardCards(t)||[]),(e,t)=>[e.dashboard.layouts[t],e.availableCards,e.cards.byDashboard[t]]);function xe(e,t){return e.dashboard.adding.includes(t)}function Be(e,t){return e.dashboard.saving.includes(t)}function Le(e,t){return e.dashboard.deleting.includes(t)}function*ke(){const e=yield I({path:Object(H.addQueryArgs)("/ithemes-security/v1/dashboards",{_embed:1})});yield x("available",e)}const Fe={*fulfill(){const e=yield I({path:"/ithemes-security/v1/dashboards",method:"HEAD",parse:!1});yield N(Object(C.f)(e.headers))},isFulfilled:e=>!!e.dashboard.collectionHeaders.allow};function*Pe(){yield R.controls.resolveSelect("ithemes-security/dashboard","getAvailableDashboards")}function*Ve(e){const t=yield I({path:Object(H.addQueryArgs)("/ithemes-security/v1/dashboards/"+e,{_embed:1,context:"edit"})});yield B(t)}function*Ne(e){const t=yield I({path:`/ithemes-security/v1/dashboards/${e}/layout`});yield L(e,t)}function Ue(e){return{type:qe,cards:e}}const qe="RECEIVE_AVAILABLE_CARDS";function Qe(e,t){return{type:gt,dashboardId:e,cards:t}}function Ge(e,t){return{type:At,dashboardId:e,card:t}}function Me(e,t){return{type:pt,cardId:e,queryArgs:t}}function ze(e,t,r){return{type:_t,cardId:e,data:t,links:r}}function We(e,t){return{type:Ot,dashboardId:e,cardId:t}}function Ye(e,t){return{type:Et,dashboardId:e,cardId:t}}function $e(e,t,r){return{type:Rt,collectionEP:e,card:t,context:r}}function Je(e,t,r){return{type:vt,collectionEP:e,card:t,context:r}}function Ze(e,t,r,n){return{type:St,collectionEP:e,card:t,context:r,error:n}}function Xe(e,t,r){return{type:Ct,cardId:e,href:t,data:r}}function Ke(e,t,r,n){return{type:It,cardId:e,href:t,data:r,response:n}}function et(e,t,r,n){return{type:mt,cardId:e,href:t,data:r,error:n}}function tt(e){return{type:jt,dashboardId:e}}function rt(e){return{type:Ht,dashboardId:e}}function nt(e,t){return{type:wt,dashboardId:e,error:t}}function at(e){return{type:Tt,cardId:e}}function dt(e){return{type:xt,cardId:e}}function it(e,t){return{type:Bt,cardId:e,error:t}}function st(e){return{type:Lt,cardId:e}}function ot(e){return{type:kt,cardId:e}}function ut(e,t){return{type:Ft,cardId:e,error:t}}function*ct(e,t,r){let n;yield $e(e,t,r);try{n=yield I({url:Object(H.addQueryArgs)(e,{_embed:1}),method:"POST",data:t})}catch(n){return yield Ze(e,t,r,n),void(yield m("error",Object(w.sprintf)(Object(w.__)("Error when adding card to dashboard: %s","better-wp-security"),n.message)))}yield Je(e,t,r),yield Ge(n.dashboard,n)}function*ft(e,t){const r=t.id;let n;try{n=yield I({path:`/ithemes-security/v1/dashboards/${e}/cards/${t.card}${r?"/"+r:""}`,method:r?"PUT":"POST",data:t})}catch(e){return yield m("error",Object(w.sprintf)(Object(w.__)("Error when saving dashboard card: %s","better-wp-security"),e.message)),e}return yield Ge(e,n),n}function*lt(e,t){let r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];yield Ye(e,t.id),r&&(yield We(e,t.id));try{yield I({path:`/ithemes-security/v1/dashboards/${e}/cards/${t.card}/${t.id}`,method:"DELETE",parse:!1})}catch(n){return r&&(yield Ge(e,t)),void(yield m("error",Object(w.sprintf)(Object(w.__)("Error when removing card from dashboard: %s","better-wp-security"),n.message)))}r||(yield We(e,t.id))}function*ht(e){yield tt(e);const t=Object(R.select)("ithemes-security/dashboard"),r=t.getDashboardCards(e),n={_fields:["id","data","_links"],cards:{}};for(const e of r)Object(O.set)(n,["cards",e.card,e.id],t.getDashboardCardQueryArgs(e.id));let a;try{a=yield I({path:Object(H.addQueryArgs)(`/ithemes-security/v1/dashboards/${e}/cards`,n)})}catch(t){return yield nt(e,t),yield m("warning",Object(w.sprintf)(Object(w.__)("Refreshing dashboard data failed: %s","better-wp-security"),t.message),{autoDismiss:!0}),t}const d={};for(const e of a)d[e.id]=e.data,yield ze(e.id,e.data,e._links);return yield rt(e),d}function*bt(e){const t=Object(R.select)("ithemes-security/dashboard").getDashboardCard(e);if(!t)throw new Error("No card loaded with that id.");yield at(e);const r=yield I({path:Object(H.addQueryArgs)(`/ithemes-security/v1/dashboards/${t.dashboard}/cards/${t.card}/${e}`,{...Object(R.select)("ithemes-security/dashboard").getDashboardCardQueryArgs(e),_fields:["data","_links"]})});return yield ze(e,r.data,r._links),yield dt(e),r.data}function*yt(e,t){const r=Object(R.select)("ithemes-security/dashboard").getDashboardCard(e);if(!r)throw new Error("No card loaded with that id.");yield st(e);const n=yield I({path:Object(H.addQueryArgs)(`/ithemes-security/v1/dashboards/${r.dashboard}/cards/${r.card}/${e}`,{...t,_fields:["data","_links"]})});return yield ze(e,n.data,n._links),yield Me(e,t),yield ot(e),n.data}function*Dt(e,t,r){let n;yield Xe(e,t,r);try{n=yield I({url:t,method:"POST",data:r})}catch(n){return yield et(e,t,r,n),yield m("error",Object(w.sprintf)(Object(w.__)("Error when performing card action: %s","better-wp-security"),n.message)),n}return yield Ke(e,t,r,n),yield bt(e),n}const gt="RECEIVE_DASHBOARD_CARDS",At="RECEIVE_DASHBOARD_CARD",pt="RECEIVE_DASHBOARD_CARD_QUERY_ARGS",_t="RECEIVE_DASHBOARD_CARD_DATA",Ot="REMOVE_DASHBOARD_CARD",Et="START_REMOVE_DASHBOARD_CARD",Rt="START_ADD_DASHBOARD_CARD",vt="FINISH_ADD_DASHBOARD_CARD",St="FAILED_ADD_DASHBOARD_CARD",Ct="START_DASHBOARD_CARD_RPC",It="FINISH_DASHBOARD_CARD_RPC",mt="FAILED_DASHBOARD_CARD_RPC",jt="START_REFRESH_DASHBOARD_CARDS",Ht="FINISH_REFRESH_DASHBOARD_CARDS",wt="FAILED_REFRESH_DASHBOARD_CARDS",Tt="START_REFRESH_DASHBOARD_CARD",xt="FINISH_REFRESH_DASHBOARD_CARD",Bt="FAILED_REFRESH_DASHBOARD_CARD",Lt="START_QUERY_DASHBOARD_CARD",kt="FINISH_QUERY_DASHBOARD_CARD",Ft="FAILED_QUERY_DASHBOARD_CARD";const Pt=Object(be.a)(e=>Object.values(e.availableCards),e=>[e.availableCards]);function Vt(e,t){return e.availableCards[t]}const Nt=Object(be.a)((e,t)=>Object(O.find)(e.availableCards,e=>Object(O.get)(e,["_links","self",0,"href"])===t),e=>[e.availableCards]);function*Ut(){try{const e=yield I({path:"/ithemes-security/v1/dashboard-available-cards"});yield Ue(e)}catch(e){yield Ue([])}}function*qt(){yield Object(R.select)("ithemes-security/dashboard").getAvailableCards()}function*Qt(){yield Object(R.select)("ithemes-security/dashboard").getAvailableCards()}const Gt={byId:{},byDashboard:{},queryArgs:{},deleting:[],adding:[],rpcs:{},refreshingDashboards:[],querying:[]};const Mt=Object(be.a)((e,t)=>Object(O.map)(e.cards.byDashboard[t],t=>e.cards.byId[t]),(e,t)=>[e.cards.byDashboard[t],e.cards.byId]);function zt(e,t){return e.cards.byId[t]}function Wt(e,t){return Object(O.get)(e,["cards","byId",t,"settings"])}function Yt(e,t){return e.cards.queryArgs[t]}function $t(e,t){const r=Object(R.select)("ithemes-security/dashboard").getDashboardCard(t);if(r)return Object(R.select)("ithemes-security/dashboard").getAvailableCard(r.card)}function Jt(e,t,r){const n=Object(R.select)("ithemes-security/dashboard").getDashboardCards(t),a=[];for(const e of n)Object(O.get)(e,["_links","about",0,"href"])===r&&a.push(e);return a}function Zt(e,t,r){return!(!Object(R.select)("ithemes-security/dashboard").canEditDashboard(t)||!r)}function Xt(e,t){return De("getDashboardCards",t)}function Kt(e,t){return e.cards.refreshingDashboards.includes(t)}function er(e,t){return ge("getDashboardCards",t)}function tr(e,t){return e.cards.deleting.includes(t)}function rr(e,t){return e.cards.adding.includes(t)}function nr(e,t,r){return e.cards.rpcs[t]&&e.cards.rpcs[t].includes(r)}const ar=[];function dr(e,t){return e.cards.rpcs[t]||ar}function ir(e,t){return e.cards.querying.includes(t)}function*sr(e){const t=yield I({path:`/ithemes-security/v1/dashboards/${e}/cards?_embed=1`});yield Qe(e,t)}function*or(e){const t=Object(R.select)("ithemes-security/dashboard").getDashboardCard(e);t&&!Object(R.select)("ithemes-security/dashboard").getAvailableCard(t.card)&&Object(R.select)("ithemes-security/dashboard").getAvailableCards()}function ur(e){return{type:_r,page:"view-dashboard",attr:{id:e}}}function cr(){return{type:_r,page:"create-dashboard"}}function fr(){return{type:_r,page:"help"}}function lr(){return{type:Or}}function hr(){return{type:vr}}function br(){return{type:Sr}}function yr(e){return{type:Er,users:e}}function Dr(e){return{type:Rr,user:e}}function gr(e,t){return{type:Cr,stats:e,query:t}}function Ar(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return{type:Ir,isUsing:e}}function pr(e,t){return{type:mr,slug:e,settings:t}}const _r="NAVIGATE",Or="NAVIGATE_BACK",Er="RECEIVE_SUGGESTED_SHARE_USERS",Rr="RECEIVE_USER",vr="OPEN_EDIT_CARDS",Sr="CLOSE_EDIT_CARDS",Cr="RECEIVE_STATIC_STATS",Ir="USING_TOUCH",mr="REGISTER_CARD",jr={view:{page:"",attr:{}},previousView:null,editingCards:!1,suggestedShareUsers:[],users:{byId:{}},staticStats:{data:{},query:{}},usingTouch:!1,cards:{}};function Hr(e){return e.app.view.page}function wr(e){return e.app.view.attr}function Tr(e){return"view-dashboard"===e.app.view.page&&e.app.view.attr.id}function xr(e){return e.app.suggestedShareUsers}function Br(e,t){return e.app.users.byId[t]}function Lr(e){return e.app.editingCards}function kr(e){return e.app.staticStats.data}function Fr(e){return e.app.usingTouch}function Pr(e,t){return e.app.cards[t]}var Vr=r("rl8x"),Nr=r.n(Vr);function*Ur(){const e=yield I({path:Object(H.addQueryArgs)("/wp/v2/users",{roles:"administrator"})});yield yr(e)}function*qr(e){const t=yield I({path:"/wp/v2/users/"+e});yield Dr(t)}const Qr={*fulfill(e){const t="/ithemes-security/v1/dashboard-static",r=yield I({path:Object(O.isEmpty)(e)?t:Object(H.addQueryArgs)(t,e)});yield gr(r,e)},isFulfilled:(e,t)=>Nr()(e.app.staticStats.query,t)};function Gr(e){return{type:zr,dashboardId:e}}function*Mr(e){const t=yield I({path:"/wp/v2/users/me",method:"PUT",data:{meta:{_itsec_primary_dashboard:e}}});yield Gr(t.meta._itsec_primary_dashboard)}const zr="RECEIVE_PRIMARY_DASHBOARD",Wr={primaryDashboard:void 0};function Yr(e){return e.user.primaryDashboard}function*$r(){const e=yield I({path:Object(H.addQueryArgs)("/wp/v2/users/me",{context:"edit"})});yield Gr(e.meta._itsec_primary_dashboard)}const Jr={reducer:Object(R.combineReducers)({dashboard:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:he,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case K:return{...e,byId:{...e.byId,...Object(O.keyBy)(t.dashboards,"id")},queries:{...e.queries,[t.queryId]:Object(O.map)(t.dashboards,e=>e.id)}};case ee:return{...e,byId:{...e.byId,[t.dashboard.id]:t.dashboard},queries:{...e.queries,available:e.queries.available.includes(t.dashboard.id)?e.queries.available:[...e.queries.available,t.dashboard.id]}};case te:return{...e,layouts:{...e.layouts,[t.dashboardId]:t.layout},savingLayouts:{...e.savingLayouts,[t.dashboardId]:!1}};case re:return{...e,savingLayouts:{...e.savingLayouts,[t.dashboardId]:!0}};case ne:return t.context?{...e,adding:[...e.adding,t.context]}:e;case ae:case de:return{...e,adding:e.adding.filter(e=>e!==t.context)};case ie:return{...e,saving:[...e.saving,t.dashboardId]};case se:case oe:return{...e,saving:e.saving.filter(e=>e!==t.dashboardId)};case le:return{...e,collectionHeaders:t.headers};case ue:return{...e,deleting:[...e.deleting,t.dashboardId]};case ce:return{...e,deleting:e.deleting.filter(e=>e!==t.dashboardId),byId:Object(O.omit)(e.byId,[t.dashboardId])};case fe:return{...e,deleting:e.deleting.filter(e=>e!==t.dashboardId)};default:return e}},availableCards:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case qe:return{...e,...Object(O.keyBy)(t.cards,"slug")};case gt:const r={};for(const n of t.cards)if(Object(O.has)(n,["_embedded","about",0])){const t=n._embedded.about[0].slug;e[t]||(r[t]=n._embedded.about[0])}return Object(O.isEmpty)(r)?e:{...e,...r};default:return e}},cards:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Gt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case gt:return{...e,byId:{...e.byId,...Object(O.keyBy)(t.cards,"id")},byDashboard:{...e.byDashboard,[t.dashboardId]:Object(O.map)(t.cards,e=>e.id)}};case At:return{...e,byId:{...e.byId,[t.card.id]:t.card},byDashboard:{...e.byDashboard,[t.dashboardId]:e.byDashboard[t.dashboardId]&&e.byDashboard[t.dashboardId].includes(t.card.id)?e.byDashboard[t.dashboardId]:[...Object(O.get)(e,["byDashboard",t.dashboardId],[]),t.card.id]}};case pt:return{...e,queryArgs:{...e.queryArgs,[t.cardId]:t.queryArgs}};case _t:return{...e,byId:{...e.byId,[t.cardId]:{...e.byId[t.cardId],data:t.data,_links:t.links}}};case Et:return{...e,deleting:[...e.deleting,t.cardId]};case Ot:return{...e,byId:Object(O.omit)(e.byId,t.cardId),byDashboard:{...e.byDashboard,[t.dashboardId]:Object(O.filter)(e.byDashboard[t.dashboardId],e=>e!==t.cardId)},deleting:Object(O.filter)(e.deleting,e=>e!==t.cardId)};case Rt:return t.context?{...e,adding:[...e.adding,t.context]}:e;case vt:case St:return{...e,adding:e.adding.filter(e=>e!==t.context)};case Ct:return{...e,rpcs:{...e.rpcs,[t.cardId]:[...e.rpcs[t.cardId]||[],t.href]}};case It:case mt:return{...e,rpcs:{...e.rpcs,[t.cardId]:(e.rpcs[t.cardId]||[]).filter(e=>e!==t.href)}};case jt:return{...e,refreshingDashboards:[...e.refreshingDashboards,t.dashboardId]};case Ht:case wt:return{...e,refreshingDashboards:e.refreshingDashboards.filter(e=>e!==t.dashboardId)};case Lt:return{...e,querying:[...e.querying,t.cardId]};case kt:return{...e,querying:e.querying.filter(e=>e!==t.cardId)};default:return e}},app:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:jr,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case _r:return{...e,view:{page:t.page,attr:t.attr||{}},previousView:e.view};case Or:return{...e,view:e.previousView||jr.view,previousView:null};case Er:return{...e,suggestedShareUsers:t.users,users:{...e.users,byId:{...e.users.byId,...Object(O.keyBy)(t.users,"id")}}};case Rr:return{...e,users:{...e.users,byId:{...e.users.byId,[t.user.id]:t.user}}};case ae:return["create-dashboard-scratch","create-dashboard-default"].includes(t.context)?{...e,editingCards:!0,view:{page:"view-dashboard",attr:{id:t.created.id}}}:e;case vr:return{...e,editingCards:!0};case Sr:return{...e,editingCards:!1};case Cr:return{...e,staticStats:{data:t.stats,query:t.query}};case Ir:return{...e,usingTouch:t.isUsing};case mr:return{...e,cards:{...e.cards,[t.slug]:t.settings}};default:return e}},user:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Wr,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case zr:return{...e,primaryDashboard:t.dashboardId};default:return e}}}),controls:{...j},actions:{...n,...i,...s,...l,...y},selectors:{...a,...o,...c,...h,...D},resolvers:{...d,...u,...f,...b,...g}};Object(R.registerStore)("ithemes-security/dashboard",Jr);function Zr(e){let{type:t="secondary",...r}=e;return Object(_.createElement)(E.Fill,p()({name:"AdminBar"+Object(O.capitalize)(t)},r))}function Xr(e){let{type:t="secondary",...r}=e;return Object(_.createElement)(E.Slot,p()({name:"AdminBar"+Object(O.capitalize)(t)},r))}function Kr(e){return Object(_.createElement)(E.Fill,p()({name:"BelowToolbar"},e))}function en(e){return Object(_.createElement)(E.Slot,p()({name:"BelowToolbar"},e))}function tn(e){return Object(_.createElement)(E.Fill,p()({name:"EditCards"},e))}function rn(e){return Object(_.createElement)(E.Slot,p()({name:"EditCards"},e))}r.p=window.itsecWebpackPublicPath},GRId:function(e,t){!function(){e.exports=this.wp.element}()},Mmq9:function(e,t){!function(){e.exports=this.wp.url}()},Td6G:function(e,t,r){"use strict";r.d(t,"c",(function(){return y})),r.d(t,"b",(function(){return A})),r.d(t,"o",(function(){return _})),r.d(t,"m",(function(){return O})),r.d(t,"j",(function(){return E})),r.d(t,"e",(function(){return R})),r.d(t,"f",(function(){return v})),r.d(t,"d",(function(){return S})),r.d(t,"l",(function(){return C})),r.d(t,"a",(function(){return I})),r.d(t,"i",(function(){return m})),r.d(t,"h",(function(){return j})),r.d(t,"g",(function(){return H})),r.d(t,"k",(function(){return w})),r.d(t,"n",(function(){return T}));var n=r("YLtl"),a=r("GRId"),d=r("Mmq9"),i=r("lSNA"),s=r.n(i),o=r("92Nh"),u=r.n(o),c=r("tmk3"),f=r.n(c);function l(e,t,r){!function(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}(e,t),t.set(e,r)}var h=new WeakMap,b=new WeakMap;class y{constructor(){var e=this;let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0;l(this,h,{writable:!0,value:{}}),l(this,b,{writable:!0,value:{}}),s()(this,"add",(e,t)=>(f()(this,h)[e]||(f()(this,h)[e]=[]),f()(this,h)[e].push(t),this)),s()(this,"hasErrors",()=>this.getErrorCodes().length>0),s()(this,"getErrorCodes",()=>Object.keys(f()(this,h))),s()(this,"getErrorCode",()=>this.getErrorCodes()[0]),s()(this,"getErrorMessages",(function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0;if(t)return f()(e,h)[t];const r=[];for(const t in f()(e,h))f()(e,h).hasOwnProperty(t)&&r.concat(f()(e,h)[t]);return r})),s()(this,"getErrorMessage",(function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0;return t=t||e.getErrorCode(),e.getErrorMessages(t)[0]})),s()(this,"getErrorData",(function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0;return t=t||e.getErrorCode(),f()(e,b)[t]})),s()(this,"getAllErrorMessages",()=>{const e=[];for(const t in f()(this,h))f()(this,h).hasOwnProperty(t)&&e.push(...f()(this,h)[t]);return e}),t&&(r&&(f()(this,h)[t]=[r]),n&&(f()(this,b)[t]=n))}static fromPHPObject(e){const t=new y;return u()(t,h,e.errors),u()(t,b,e.error_data),t}static fromApiError(e){const t=new y;if(f()(t,h)[e.code]=[e.message],f()(t,b)[e.code]=e.data,e.additional_errors)for(const r of e.additional_errors)f()(t,h)[r.code]=[r.message],f()(t,b)[r.code]=r.data;return t}}var D=r("l3Sj");class g extends Error{constructor(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];super(e.message||Object(D.__)("An unknown error occurred.","better-wp-security"),...r),Error.captureStackTrace&&Error.captureStackTrace(this,g),this.__response=e;for(const t in e)e.hasOwnProperty(t)&&Object.defineProperty(this,t,{value:e[t],configurable:!0,enumerable:!0,writable:!0})}toString(){return this.__response.toString()}getResponse(){return this.__response}}r("LhCv");class A{constructor(e,t,r){let n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[],d=arguments.length>5&&void 0!==arguments[5]?arguments[5]:[];s()(this,"type",void 0),s()(this,"error",void 0),s()(this,"data",void 0),s()(this,"success",void 0),s()(this,"info",void 0),s()(this,"warning",void 0),this.type=e,this.error=t,this.data=r,this.success=n,this.info=a,this.warning=d,Object.seal(this)}isSuccess(){return this.type===A.SUCCESS}static async fromResponse(e){const t=t=>{var r;const n=null===(r=e.headers)||void 0===r?void 0:r.get("X-Messages-"+t);return n?JSON.parse(n):[]},r=204!==e.status&&e.json?await e.json():null,n=R(r),a=n.hasErrors()?A.ERROR:A.SUCCESS,d=t("Success"),i=t("Info"),s=t("Warning");return new A(a,n,r,d,i,s)}}Object.defineProperty(A,"SUCCESS",{value:"success",writable:!1,enumerable:!1,configurable:!1}),Object.defineProperty(A,"ERROR",{value:"error",writable:!1,enumerable:!1,configurable:!1});const p=Object(a.createContext)({getUrl(e){e="settings"===e?"itsec":"itsec-"+e;const t=Object(d.removeQueryArgs)(document.location.href,...Object.keys(Object(d.getQueryArgs)(document.location.href)));return Object(d.addQueryArgs)(t,{page:e})}});function _(e){const{getUrl:t}=Object(a.useContext)(p);return t(e)}function O(e){if(e<=999)return e.toString();if(e<=9999){const t=(e/1e3).toFixed(1);return"0"===t.charAt(t.length-1)?t.replace(".0","k"):t+"k"}if(e<=99999)return e.toString().substring(0,2)+"k";if(e<=999999)return e.toString().substring(0,3)+"k";if(e<=9999999){const t=(e/1e6).toFixed(1);return"0"===t.charAt(t.length-1)?t.replace(".0","m"):t+"m"}if(e<=99999999)return e.toString().substring(0,2)+"m";if(e<=999999999)return e.toString().substring(0,3)+"m";if(e<=9999999999){const t=(e/1e9).toFixed(1);return"0"===t.charAt(t.length-1)?t.replace(".0","b"):t+"b"}return e}function E(e){if(!Object(n.isPlainObject)(e))return!1;const t=Object.keys(e);return 2===t.length&&(t.includes("errors")&&t.includes("error_data"))}function R(e){return e instanceof y?e:E(e)?y.fromPHPObject(e):function(e){if(!Object(n.isPlainObject)(e))return!1;const t=Object.keys(e);return(3===t.length||4===t.length)&&(!(4===t.length&&!t.includes("additional_errors"))&&(t.includes("code")&&t.includes("message")&&t.includes("data")))}(e)?y.fromApiError(e):new y}function v(e){const t={};for(const[r,n]of e)t[r]=n;return t}function S(e,t){const r=[[],[]];for(const n of e)r[t(n)?0:1].push(n);return r}function C(e){if(e instanceof Error)throw e;throw new g(e)}const I="https://secure.gravatar.com/avatar/d7a973c7dab26985da5f961be7b74480?s=96&d=mm&f=y&r=g";function m(e,t){let r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return Object(n.get)(e,["_links","self",0,"targetHints",t],r?void 0:[])}function j(e){return function(e,t){return Object(n.get)(e,["_links",t,0,"href"])}(e,"self")}function H(e,t){if(e&&e.links)for(const r of e.links)if(r.rel===t)return r}function w(e,t){if("object"!==e.type)return e;let r;for(const a in t)t.hasOwnProperty(a)&&"hidden"===t[a]["ui:widget"]&&(r||(r=Object(n.cloneDeep)(e)),delete r.properties[a]);return r||e}function T(e){let t=[];if(!e)return t;const r=e instanceof y?e:R(Object(n.pick)(e,["code","message","data"]));return"rest_invalid_param"===r.getErrorCode()&&(t=Object.values(r.getErrorData().params)),[...r.getAllErrorMessages(),...t]}},YLtl:function(e,t){!function(){e.exports=this.lodash}()},Z6ex:function(e,t,r){"use strict";r.d(t,"c",(function(){return f})),r.d(t,"p",(function(){return l})),r.d(t,"o",(function(){return h})),r.d(t,"b",(function(){return b})),r.d(t,"d",(function(){return y})),r.d(t,"a",(function(){return D})),r.d(t,"n",(function(){return A})),r.d(t,"l",(function(){return p})),r.d(t,"m",(function(){return _})),r.d(t,"g",(function(){return O})),r.d(t,"e",(function(){return R})),r.d(t,"k",(function(){return v})),r.d(t,"j",(function(){return S})),r.d(t,"i",(function(){return C})),r.d(t,"f",(function(){return I})),r.d(t,"h",(function(){return m}));var n=r("YLtl"),a=r("4eJC"),d=r.n(a),i=r("1ZqX"),s=r("l3Sj"),o=r("g56x"),u=r("GRId"),c=r("Td6G");const f=Object(u.createContext)({canManage:!1,installType:""});function l(){return Object(u.useContext)(f)}function h(){const{canCreate:e,canEdit:t}=Object(i.useSelect)(e=>({canCreate:e("ithemes-security/dashboard").canCreateDashboards(),canEdit:e("ithemes-security/dashboard").canEditDashboard(e("ithemes-security/dashboard").getViewingDashboardId())}),[]);return e||t}const b=Object.freeze(["huge","wide","large","medium","mobile"]),y=Object.freeze({huge:8,wide:6,large:4,medium:2,mobile:1}),D=Object.freeze(b.reduce((e,t)=>({...e,[t]:250*y[t]+20*(y[t]-1)}),{})),g=["minW","minH","maxW","maxH"];function A(e,t){const r=Object(i.select)("ithemes-security/dashboard"),n={};for(const e in t){if(!t.hasOwnProperty(e))continue;const a=t[e];for(const t of a){const a=r.getDashboardCard(parseInt(t.i));a&&(n[a.id]?(n[a.id].size[e]={w:t.w,h:t.h},n[a.id].position[e]={x:t.x&&t.x!==1/0?t.x:0,y:t.y&&t.y!==1/0?t.y:0}):n[a.id]={id:a.id,card:a.card,size:{[e]:{w:t.w,h:t.h}},position:{[e]:{x:t.x&&t.x!==1/0?t.x:0,y:t.y&&t.y!==1/0?t.y:0}}})}}return{cards:Object.values(n)}}function p(e,t,r){let{cards:a={}}=r;const d=Object(n.zipObject)(Object.keys(D),Object(n.times)(Object.keys(D).length,()=>[])),s={};for(const t of a){s[t.id]=!0;const r=Object(i.select)("ithemes-security/dashboard").getAvailableCard(t.card);if(r||"unknown"===t.card)for(const n of b)d[n].push(_(e,t,r,n,d[n]))}if(Object.keys(s).length<t.length)for(const r of t)if(!s[r.id]){const t=Object(i.select)("ithemes-security/dashboard").getAvailableCard(r.card);if(t)for(const n of b)d[n].push(_(e,r,t,n,d[n]))}return d}function _(e,t,r,a,d){if(!D[a])return;const s={i:t.id.toString(),x:Object(n.get)(t,["position",a,"x"]),y:Object(n.get)(t,["position",a,"y"]),w:Object(n.get)(t,["size",a,"w"],Object(n.get)(r,["size","defaultW"],1)),h:Object(n.get)(t,["size",a,"h"],Object(n.get)(r,["size","defaultH"],2))};if(r&&r.size)for(const e of g)r.size.hasOwnProperty(e)&&(s[e]=r.size[e]);if(s.minW&&s.minW>s.w&&(s.w=s.minW),s.minH&&s.minH>s.h&&(s.h=s.minH),s.maxW&&s.w>s.maxW&&(s.w=s.maxW),s.maxH&&s.h>s.maxH&&(s.h=s.maxH),d&&void 0===s.x&&void 0===s.x){const e=O(y[a],d,{w:s.w,h:s.h});e&&(s.x=e.x,s.y=e.y)}return s.x=void 0===s.x||null===s.x?0:s.x,s.y=void 0===s.y||null===s.y?1/0:s.y,Object(i.select)("ithemes-security/dashboard").canEditDashboard(e)||(s.static=!0),"unknown"===t.card&&(s.isResizable=!1),s.minW===s.maxW&&s.minH===s.maxH&&(s.isResizable=!1),s}function O(e,t,r){const n=[];for(const r of t){const{x:t,y:a,w:d,h:i}=r;for(let r=0;r<i;r++){n[r]||(n[r]=new Array(e).fill(0));for(let i=0;i<d;i++)n[r+a]||(n[r+a]=new Array(e).fill(0)),n[r+a][i+t]=1}}const{w:a,h:d}=r;for(let t=0;t<n.length;t++)e:for(let r=0;r<e;r++)if(!n[t]||1!==n[t][r]){for(let i=0;i<d;i++)for(let d=0;d<a;d++)if(t+i>n.length||r+d>=e||n[t+i]&&1===n[t+i][r+d])continue e;return{x:r,y:t}}return{x:0,y:n.length}}function E(e,t){return e.x===t.x&&e.y===t.y&&e.w===t.w&&e.h===t.h}const R=d()((function(e,t){if(e===t)return!0;if(Object.keys(e).length!==Object.keys(t).length)return!1;const r=new Map;for(let n=0;n<b.length;n++){const a=b[n];if(e[a]||t[a]){if(!e[a]&&t[a]||e[a]&&!t[a])return!1;if(e[a].length!==t[a].length)return!1;for(let t=0;t<e[a].length;t++)r.set(e[a][t].i,e[a][t]);for(let e=0;e<t[a].length;e++){const n=r.get(t[a][e].i);if(!n)return!1;if(!E(n,t[a][e]))return!1;r.delete(n.i)}if(r.size>0)return!1}}return!0}));const v=d()((function(e,t,r){const a=Object(n.keyBy)(t[r],"i"),d=[...e];return d.sort((function(e,t){const r=e.id.toString(),n=t.id.toString();if(!a[r]&&!a[n])return 0;if(a[r]&&!a[n])return 1;if(!a[r]&&a[n])return-1;const d=a[r].y,i=a[n].y,s=a[r].x,o=a[n].x;return d>i?1:d<i?-1:s>o?1:s<o?-1:0})),d}));const S=d()((function(e,t){const r=Object(n.keyBy)(t.cards,"id"),a=[...e];return a.sort((function(e,t){const n=e.id,a=t.id;if(!r[n]&&!r[a])return 0;if(r[n]&&!r[a])return 1;if(!r[n]&&r[a])return-1;const d=r[n].position.mobile.y,i=r[a].position.mobile.y,s=r[n].position.mobile.x,o=r[a].position.mobile.x;return d>i?1:d<i?-1:s>o?1:s<o?-1:0})),a}));function C(e,t){if(!t)return Object(s.__)("Unknown Card","better-wp-security");let r=t.label;return r=Object(o.applyFilters)("ithemes-security.dashboard.getCardTitle."+t.slug,r,e),Object(o.applyFilters)("ithemes-security.dashboard.getCardTitle",r,e,t)}function I(e,t,r,n){Object.entries(r).forEach(t=>{let[r,n]=t;return e[r]!==n&&console.log(`Prop '${r}' changed`)}),Object.entries(n).forEach(e=>{let[r,n]=e;return t[r]!==n&&console.log(`State '${r}' changed`)})}function m(e){return Object(n.get)(e,["avatar_urls",96],c.a)}},g56x:function(e,t){!function(){e.exports=this.wp.hooks}()},l3Sj:function(e,t){!function(){e.exports=this.wp.i18n}()},pPDe:function(e,t,r){"use strict";var n,a;function d(e){return[e]}function i(){var e={clear:function(){e.head=null}};return e}function s(e,t,r){var n;if(e.length!==t.length)return!1;for(n=r;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}n={},a="undefined"!=typeof WeakMap,t.a=function(e,t){var r,o;function u(){r=a?new WeakMap:i()}function c(){var r,n,a,d,i,u=arguments.length;for(d=new Array(u),a=0;a<u;a++)d[a]=arguments[a];for(i=t.apply(null,d),(r=o(i)).isUniqueByDependants||(r.lastDependants&&!s(i,r.lastDependants,0)&&r.clear(),r.lastDependants=i),n=r.head;n;){if(s(n.args,d,1))return n!==r.head&&(n.prev.next=n.next,n.next&&(n.next.prev=n.prev),n.next=r.head,n.prev=null,r.head.prev=n,r.head=n),n.val;n=n.next}return n={val:e.apply(null,d)},d[0]=null,n.args=d,r.head&&(r.head.prev=n,n.next=r.head),r.head=n,n.val}return t||(t=d),o=a?function(e){var t,a,d,s,o,u=r,c=!0;for(t=0;t<e.length;t++){if(a=e[t],!(o=a)||"object"!=typeof o){c=!1;break}u.has(a)?u=u.get(a):(d=new WeakMap,u.set(a,d),u=d)}return u.has(n)||((s=i()).isUniqueByDependants=c,u.set(n,s)),u.get(n)}:function(){return r},c.getDependants=t,c.clear=u,u(),c}},pVnL:function(e,t){function r(){return e.exports=r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},e.exports.__esModule=!0,e.exports.default=e.exports,r.apply(this,arguments)}e.exports=r,e.exports.__esModule=!0,e.exports.default=e.exports},rl8x:function(e,t){!function(){e.exports=this.wp.isShallowEqual}()},"tI+e":function(e,t){!function(){e.exports=this.wp.components}()},ywyh:function(e,t){!function(){e.exports=this.wp.apiFetch}()}},[["Akk5",0,1]]]);