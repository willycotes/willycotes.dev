this.itsec=this.itsec||{},this.itsec.core=this.itsec.core||{},this.itsec.core["admin-notices-api"]=(window.itsecWebpackJsonP=window.itsecWebpackJsonP||[]).push([[10],{"1ZqX":function(t,e){!function(){t.exports=this.wp.data}()},GRId:function(t,e){!function(){t.exports=this.wp.element}()},"M/oR":function(t,e,n){"use strict";n.r(e);var r={};n.r(r),n.d(r,"receiveNotices",(function(){return g})),n.d(r,"startNoticeAction",(function(){return f})),n.d(r,"finishNoticeAction",(function(){return p})),n.d(r,"failedNoticeAction",(function(){return m})),n.d(r,"receiveMutedHighlights",(function(){return I})),n.d(r,"startUpdateMutedHighlight",(function(){return E})),n.d(r,"finishUpdateMutedHighlight",(function(){return v})),n.d(r,"failedUpdateMutedHighlight",(function(){return y})),n.d(r,"doNoticeAction",(function(){return b})),n.d(r,"updateMutedHighlight",(function(){return O})),n.d(r,"RECEIVE_NOTICES",(function(){return _})),n.d(r,"START_NOTICE_ACTION",(function(){return T})),n.d(r,"FINISH_NOTICE_ACTION",(function(){return H})),n.d(r,"FAILED_NOTICE_ACTION",(function(){return A})),n.d(r,"RECEIVE_MUTED_HIGHLIGHTS",(function(){return w})),n.d(r,"START_UPDATE_MUTED_HIGHLIGHT",(function(){return j})),n.d(r,"FINISH_UPDATE_MUTED_HIGHLIGHT",(function(){return C})),n.d(r,"FAILED_UPDATE_MUTED_HIGHLIGHT",(function(){return S}));var i={};n.r(i),n.d(i,"isResolving",(function(){return N})),n.d(i,"isResolved",(function(){return U})),n.d(i,"getNotices",(function(){return M})),n.d(i,"areNoticesLoaded",(function(){return P})),n.d(i,"isDoingAction",(function(){return R})),n.d(i,"getInProgressActions",(function(){return F})),n.d(i,"getMutedHighlights",(function(){return k})),n.d(i,"getMutedHighlightUpdatesInFlight",(function(){return G}));var o={};n.r(o),n.d(o,"getNotices",(function(){return x})),n.d(o,"getMutedHighlights",(function(){return q}));var s=n("1ZqX"),c=n("YLtl"),u=n("ywyh"),d=n.n(u),a=n("Td6G");function h(t){return{type:"API_FETCH",request:t}}var l={API_FETCH(t){let{request:e}=t;return d()(e).catch(a.l)},SELECT(t){let{selectorName:e,args:n}=t;return Object(s.select)("ithemes-security/admin-notices")[e](...n)},CREATE_NOTICE(t){let{status:e,content:n,options:r}=t;r.autoDismiss&&(r.id=r.id||Object(c.uniqueId)("itsec-auto-dismiss-"),setTimeout(()=>Object(s.dispatch)("core/notices").removeNotice(r.id,r.context),r.autoDismiss)),Object(s.dispatch)("core/notices").createNotice(e,n,r)}};function g(t){return{type:_,notices:t}}function f(t,e){return{type:T,noticeId:t,actionId:e}}function p(t,e,n){return{type:H,noticeId:t,actionId:e,response:n}}function m(t,e,n){return{type:A,noticeId:t,actionId:e,error:n}}function I(t){return{type:w,mutedHighlights:t}}function E(t,e){return{type:j,slug:t,mute:e}}function v(t,e){return{type:C,slug:t,mute:e}}function y(t,e,n){return{type:S,slug:t,mute:e,error:n}}function*b(t,e){let n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};yield f(t,e);try{n=yield h({path:`/ithemes-security/v1/admin-notices/${t}/${e}`,method:"POST",data:r})}catch(n){return yield m(t,e,n),n}return yield p(t,e,n),n}function*O(t,e){let n;yield E(t,e);try{n=yield h({path:"/ithemes-security/v1/admin-notices/settings",method:"PUT",data:{muted_highlights:{[t]:e}}})}catch(n){return yield y(t,e,n),n}return yield v(t,e),n}const _="RECEIVE_NOTICES",T="START_NOTICE_ACTION",H="FINISH_NOTICE_ACTION",A="FAILED_NOTICE_ACTION",w="RECEIVE_MUTED_HIGHLIGHTS",j="START_UPDATE_MUTED_HIGHLIGHT",C="FINISH_UPDATE_MUTED_HIGHLIGHT",S="FAILED_UPDATE_MUTED_HIGHLIGHT";function N(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];return Object(s.select)("core/data").isResolving("ithemes-security/admin-notices",t,n)}function U(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];return Object(s.select)("core/data").hasFinishedResolution("ithemes-security/admin-notices",t,n)}function M(t){return t.notices}function P(){return U("getNotices")}function R(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";return!!t.doingActions[e]&&(""===n||t.doingActions[e].includes(n))}const D=[];function F(t,e){return t.doingActions[e]||D}function k(t){return t.mutedHighlights}function G(t){return t.mutedHighlightUpdatesInFlight}const L={notices:[],doingActions:{},mutedHighlights:{},mutedHighlightUpdatesInFlight:{}};const x={*fulfill(){const t=yield h({path:"/ithemes-security/v1/admin-notices"});yield g(t)},shouldInvalidate:t=>t.type===H||t.type===C};function*q(){const t=yield h({path:"/ithemes-security/v1/admin-notices/settings"});yield I(Object(c.isEmpty)(t.muted_highlights)?{}:t.muted_highlights)}Object(s.registerStore)("ithemes-security/admin-notices",{controls:l,actions:r,selectors:i,resolvers:o,reducer:function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:L,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case _:return{...t,notices:[...e.notices]};case T:return{...t,doingActions:{...t.doingActions,[e.noticeId]:[...t.doingActions[e.noticeId]||[],e.actionId]}};case H:case A:return{...t,doingActions:{...t.doingActions,[e.noticeId]:(t.doingActions[e.noticeId]||[]).filter(t=>t!==e.actionId)}};case w:return{...t,mutedHighlights:e.mutedHighlights};case j:return{...t,mutedHighlightUpdatesInFlight:{...t.mutedHighlightUpdatesInFlight,[e.slug]:{mute:e.mute}}};case C:return{...t,mutedHighlightUpdatesInFlight:Object(c.omit)(t.mutedHighlightUpdatesInFlight,e.slug),mutedHighlights:{...t.mutedHighlights,[e.slug]:e.mute}};case S:return{...t,mutedHighlightUpdatesInFlight:Object(c.omit)(t.mutedHighlightUpdatesInFlight,e.slug)};default:return t}}});n.p=window.itsecWebpackPublicPath},Mmq9:function(t,e){!function(){t.exports=this.wp.url}()},Td6G:function(t,e,n){"use strict";n.d(e,"c",(function(){return p})),n.d(e,"b",(function(){return E})),n.d(e,"o",(function(){return y})),n.d(e,"m",(function(){return b})),n.d(e,"j",(function(){return O})),n.d(e,"e",(function(){return _})),n.d(e,"f",(function(){return T})),n.d(e,"d",(function(){return H})),n.d(e,"l",(function(){return A})),n.d(e,"a",(function(){return w})),n.d(e,"i",(function(){return j})),n.d(e,"h",(function(){return C})),n.d(e,"g",(function(){return S})),n.d(e,"k",(function(){return N})),n.d(e,"n",(function(){return U}));var r=n("YLtl"),i=n("GRId"),o=n("Mmq9"),s=n("lSNA"),c=n.n(s),u=n("92Nh"),d=n.n(u),a=n("tmk3"),h=n.n(a);function l(t,e,n){!function(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}(t,e),e.set(t,n)}var g=new WeakMap,f=new WeakMap;class p{constructor(){var t=this;let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0;l(this,g,{writable:!0,value:{}}),l(this,f,{writable:!0,value:{}}),c()(this,"add",(t,e)=>(h()(this,g)[t]||(h()(this,g)[t]=[]),h()(this,g)[t].push(e),this)),c()(this,"hasErrors",()=>this.getErrorCodes().length>0),c()(this,"getErrorCodes",()=>Object.keys(h()(this,g))),c()(this,"getErrorCode",()=>this.getErrorCodes()[0]),c()(this,"getErrorMessages",(function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0;if(e)return h()(t,g)[e];const n=[];for(const e in h()(t,g))h()(t,g).hasOwnProperty(e)&&n.concat(h()(t,g)[e]);return n})),c()(this,"getErrorMessage",(function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0;return e=e||t.getErrorCode(),t.getErrorMessages(e)[0]})),c()(this,"getErrorData",(function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0;return e=e||t.getErrorCode(),h()(t,f)[e]})),c()(this,"getAllErrorMessages",()=>{const t=[];for(const e in h()(this,g))h()(this,g).hasOwnProperty(e)&&t.push(...h()(this,g)[e]);return t}),e&&(n&&(h()(this,g)[e]=[n]),r&&(h()(this,f)[e]=r))}static fromPHPObject(t){const e=new p;return d()(e,g,t.errors),d()(e,f,t.error_data),e}static fromApiError(t){const e=new p;if(h()(e,g)[t.code]=[t.message],h()(e,f)[t.code]=t.data,t.additional_errors)for(const n of t.additional_errors)h()(e,g)[n.code]=[n.message],h()(e,f)[n.code]=n.data;return e}}var m=n("l3Sj");class I extends Error{constructor(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];super(t.message||Object(m.__)("An unknown error occurred.","better-wp-security"),...n),Error.captureStackTrace&&Error.captureStackTrace(this,I),this.__response=t;for(const e in t)t.hasOwnProperty(e)&&Object.defineProperty(this,e,{value:t[e],configurable:!0,enumerable:!0,writable:!0})}toString(){return this.__response.toString()}getResponse(){return this.__response}}n("LhCv");class E{constructor(t,e,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[],o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:[];c()(this,"type",void 0),c()(this,"error",void 0),c()(this,"data",void 0),c()(this,"success",void 0),c()(this,"info",void 0),c()(this,"warning",void 0),this.type=t,this.error=e,this.data=n,this.success=r,this.info=i,this.warning=o,Object.seal(this)}isSuccess(){return this.type===E.SUCCESS}static async fromResponse(t){const e=e=>{var n;const r=null===(n=t.headers)||void 0===n?void 0:n.get("X-Messages-"+e);return r?JSON.parse(r):[]},n=204!==t.status&&t.json?await t.json():null,r=_(n),i=r.hasErrors()?E.ERROR:E.SUCCESS,o=e("Success"),s=e("Info"),c=e("Warning");return new E(i,r,n,o,s,c)}}Object.defineProperty(E,"SUCCESS",{value:"success",writable:!1,enumerable:!1,configurable:!1}),Object.defineProperty(E,"ERROR",{value:"error",writable:!1,enumerable:!1,configurable:!1});const v=Object(i.createContext)({getUrl(t){t="settings"===t?"itsec":"itsec-"+t;const e=Object(o.removeQueryArgs)(document.location.href,...Object.keys(Object(o.getQueryArgs)(document.location.href)));return Object(o.addQueryArgs)(e,{page:t})}});function y(t){const{getUrl:e}=Object(i.useContext)(v);return e(t)}function b(t){if(t<=999)return t.toString();if(t<=9999){const e=(t/1e3).toFixed(1);return"0"===e.charAt(e.length-1)?e.replace(".0","k"):e+"k"}if(t<=99999)return t.toString().substring(0,2)+"k";if(t<=999999)return t.toString().substring(0,3)+"k";if(t<=9999999){const e=(t/1e6).toFixed(1);return"0"===e.charAt(e.length-1)?e.replace(".0","m"):e+"m"}if(t<=99999999)return t.toString().substring(0,2)+"m";if(t<=999999999)return t.toString().substring(0,3)+"m";if(t<=9999999999){const e=(t/1e9).toFixed(1);return"0"===e.charAt(e.length-1)?e.replace(".0","b"):e+"b"}return t}function O(t){if(!Object(r.isPlainObject)(t))return!1;const e=Object.keys(t);return 2===e.length&&(e.includes("errors")&&e.includes("error_data"))}function _(t){return t instanceof p?t:O(t)?p.fromPHPObject(t):function(t){if(!Object(r.isPlainObject)(t))return!1;const e=Object.keys(t);return(3===e.length||4===e.length)&&(!(4===e.length&&!e.includes("additional_errors"))&&(e.includes("code")&&e.includes("message")&&e.includes("data")))}(t)?p.fromApiError(t):new p}function T(t){const e={};for(const[n,r]of t)e[n]=r;return e}function H(t,e){const n=[[],[]];for(const r of t)n[e(r)?0:1].push(r);return n}function A(t){if(t instanceof Error)throw t;throw new I(t)}const w="https://secure.gravatar.com/avatar/d7a973c7dab26985da5f961be7b74480?s=96&d=mm&f=y&r=g";function j(t,e){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return Object(r.get)(t,["_links","self",0,"targetHints",e],n?void 0:[])}function C(t){return function(t,e){return Object(r.get)(t,["_links",e,0,"href"])}(t,"self")}function S(t,e){if(t&&t.links)for(const n of t.links)if(n.rel===e)return n}function N(t,e){if("object"!==t.type)return t;let n;for(const i in e)e.hasOwnProperty(i)&&"hidden"===e[i]["ui:widget"]&&(n||(n=Object(r.cloneDeep)(t)),delete n.properties[i]);return n||t}function U(t){let e=[];if(!t)return e;const n=t instanceof p?t:_(Object(r.pick)(t,["code","message","data"]));return"rest_invalid_param"===n.getErrorCode()&&(e=Object.values(n.getErrorData().params)),[...n.getAllErrorMessages(),...e]}},YLtl:function(t,e){!function(){t.exports=this.lodash}()},l3Sj:function(t,e){!function(){t.exports=this.wp.i18n}()},ywyh:function(t,e){!function(){t.exports=this.wp.apiFetch}()}},[["M/oR",0,1]]]);