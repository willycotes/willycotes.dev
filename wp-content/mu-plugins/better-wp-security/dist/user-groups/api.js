this.itsec=this.itsec||{},this.itsec["user-groups"]=this.itsec["user-groups"]||{},this.itsec["user-groups"].api=(window.itsecWebpackJsonP=window.itsecWebpackJsonP||[]).push([[29],{"1ZqX":function(t,e){!function(){t.exports=this.wp.data}()},"4eJC":function(t,e,n){t.exports=function(t,e){var n,r,i=0;function s(){var s,u,o=n,c=arguments.length;t:for(;o;){if(o.args.length===arguments.length){for(u=0;u<c;u++)if(o.args[u]!==arguments[u]){o=o.next;continue t}return o!==n&&(o===r&&(r=o.prev),o.prev.next=o.next,o.next&&(o.next.prev=o.prev),o.next=n,o.prev=null,n.prev=o,n=o),o.val}o=o.next}for(s=new Array(c),u=0;u<c;u++)s[u]=arguments[u];return o={args:s,val:t.apply(null,s)},n?(n.prev=o,o.next=n):r=o,i===e.maxSize?(r=r.prev).next=null:i++,n=o,o.val}return e=e||{},s.clear=function(){n=null,r=null,i=0},s}},GRId:function(t,e){!function(){t.exports=this.wp.element}()},Mmq9:function(t,e){!function(){t.exports=this.wp.url}()},Ntz8:function(t,e,n){"use strict";n.r(e),n.d(e,"store",(function(){return zt}));var r={};n.r(r),n.d(r,"path",(function(){return b})),n.d(r,"query",(function(){return m})),n.d(r,"appendToQuery",(function(){return E})),n.d(r,"receiveQuery",(function(){return _})),n.d(r,"processItem",(function(){return S})),n.d(r,"receiveGroup",(function(){return v})),n.d(r,"groupNotFound",(function(){return O})),n.d(r,"receiveMatchables",(function(){return I})),n.d(r,"startCreateGroup",(function(){return T})),n.d(r,"failedCreateGroup",(function(){return P})),n.d(r,"finishCreateGroup",(function(){return G})),n.d(r,"startUpdateGroup",(function(){return U})),n.d(r,"failedUpdateGroup",(function(){return A})),n.d(r,"finishUpdateGroup",(function(){return R})),n.d(r,"startDeleteGroup",(function(){return j})),n.d(r,"failedDeleteGroup",(function(){return C})),n.d(r,"finishDeleteGroup",(function(){return N})),n.d(r,"receiveGroupSettings",(function(){return D})),n.d(r,"startUpdateGroupSettings",(function(){return w})),n.d(r,"failedUpdateGroupSettings",(function(){return F})),n.d(r,"finishUpdateGroupSettings",(function(){return k})),n.d(r,"createGroup",(function(){return x})),n.d(r,"updateGroup",(function(){return B})),n.d(r,"deleteGroup",(function(){return L})),n.d(r,"saveGroups",(function(){return H})),n.d(r,"updateGroupSettings",(function(){return q})),n.d(r,"saveGroupSettingsAsBatch",(function(){return M})),n.d(r,"fetchGroupsSettings",(function(){return Q})),n.d(r,"startFetchGroupsSettings",(function(){return W})),n.d(r,"finishFetchGroupsSettings",(function(){return $})),n.d(r,"failedFetchGroupsSettings",(function(){return K})),n.d(r,"patchBulkGroupSettings",(function(){return V})),n.d(r,"startPatchBulkGroupSettings",(function(){return z})),n.d(r,"finishPatchBulkGroupSettings",(function(){return Y})),n.d(r,"failedPatchBulkGroupSettings",(function(){return J})),n.d(r,"RECEIVE_QUERY",(function(){return X})),n.d(r,"APPEND_TO_QUERY",(function(){return Z})),n.d(r,"RECEIVE_MATCHABLES",(function(){return tt})),n.d(r,"START_CREATE_GROUP",(function(){return et})),n.d(r,"FINISH_CREATE_GROUP",(function(){return nt})),n.d(r,"FAILED_CREATE_GROUP",(function(){return rt})),n.d(r,"RECEIVE_GROUP",(function(){return it})),n.d(r,"GROUP_NOT_FOUND",(function(){return st})),n.d(r,"START_UPDATE_GROUP",(function(){return ut})),n.d(r,"FINISH_UPDATE_GROUP",(function(){return ot})),n.d(r,"FAILED_UPDATE_GROUP",(function(){return ct})),n.d(r,"START_DELETE_GROUP",(function(){return dt})),n.d(r,"FINISH_DELETE_GROUP",(function(){return at})),n.d(r,"FAILED_DELETE_GROUP",(function(){return lt})),n.d(r,"RECEIVE_GROUP_SETTINGS",(function(){return ft})),n.d(r,"START_UPDATE_GROUP_SETTINGS",(function(){return gt})),n.d(r,"FINISH_UPDATE_GROUP_SETTINGS",(function(){return pt})),n.d(r,"FAILED_UPDATE_GROUP_SETTINGS",(function(){return ht})),n.d(r,"START_FETCH_GROUPS_SETTINGS",(function(){return yt})),n.d(r,"FINISH_FETCH_GROUPS_SETTINGS",(function(){return bt})),n.d(r,"FAILED_FETCH_GROUPS_SETTINGS",(function(){return mt})),n.d(r,"START_PATCH_BULK_GROUP_SETTINGS",(function(){return Et})),n.d(r,"FINISH_PATCH_BULK_GROUP_SETTINGS",(function(){return _t})),n.d(r,"FAILED_PATCH_BULK_GROUP_SETTINGS",(function(){return St}));var i={};n.r(i),n.d(i,"getMatchables",(function(){return Tt})),n.d(i,"getMatchableType",(function(){return Pt})),n.d(i,"getMatchableLabel",(function(){return Gt})),n.d(i,"getGroups",(function(){return Ut})),n.d(i,"getQueriedObjectIds",(function(){return Rt})),n.d(i,"isGroupNotFound",(function(){return jt})),n.d(i,"getGroup",(function(){return Ct})),n.d(i,"getGroupAttribute",(function(){return Nt})),n.d(i,"isUpdating",(function(){return Dt})),n.d(i,"isDeleting",(function(){return wt})),n.d(i,"getGroupSettings",(function(){return Ft})),n.d(i,"getGroupSetting",(function(){return kt})),n.d(i,"isUpdatingSettings",(function(){return xt})),n.d(i,"isBulkPatchingSettings",(function(){return Bt})),n.d(i,"getGroupsBySetting",(function(){return Lt})),n.d(i,"getSettingDefinitions",(function(){return Mt}));var s={};n.r(s),n.d(s,"getGroup",(function(){return Wt})),n.d(s,"getMatchables",(function(){return $t})),n.d(s,"getGroupSettings",(function(){return Kt})),n.d(s,"getGroupsBySetting",(function(){return Vt}));var u=n("1ZqX"),o=n("z1rk"),c=n("ywyh"),d=n.n(c),a=n("Td6G");function l(t){return{type:"API_FETCH",request:t}}var f={API_FETCH(t){let{request:e}=t;return d()(e).catch(a.l)},SELECT(t){let{storeKey:e,selectorName:n,args:r}=t;return Object(u.select)(e)[n](...r)},DISPATCH(t){let{storeKey:e,actionName:n,args:r}=t;return Object(u.dispatch)(e)[n](...r)}},g=n("YLtl"),p=n("qPad"),h=n.n(p),y=n("Mmq9");const b="/ithemes-security/v1/user-groups";function*m(t,e){const n=yield l({path:Object(y.addQueryArgs)(b,e)});yield _(t,n);for(const t of n)yield*S(t);return n}function*E(t,e){yield{type:Z,queryId:t,item:e},yield*S(e)}function _(t,e){return{type:X,queryId:t,items:e}}function*S(t){const e=Object(g.get)(t,["_embedded","ithemes-security:user-group-member"],[]),n=Object(g.get)(t,["_embedded","ithemes-security:user-matchable-settings",0]);for(const t of e)yield u.controls.dispatch("ithemes-security/core","receiveUser",t);n&&(yield D(t.id,n))}function v(t){return{type:it,group:t}}function O(t){return{type:st,id:t}}function I(t){return{type:tt,matchables:t}}function T(t){return{type:et,group:t}}function P(t,e){return{type:rt,group:t,error:e}}function G(t,e){return{type:nt,group:t,response:e}}function U(t,e){return{type:ut,id:t,group:e}}function A(t,e){return{type:ct,id:t,error:e}}function R(t,e){return{type:ot,id:t,response:e}}function j(t){return{type:dt,id:t}}function C(t,e){return{type:lt,id:t,error:e}}function N(t){return{type:at,id:t}}function D(t,e){return{type:ft,id:t,settings:e}}function w(t,e){return{type:gt,id:t,settings:e}}function F(t,e){return{type:ht,id:t,error:e}}function k(t,e){return{type:pt,id:t,response:e}}function*x(t){let e;yield T(t);try{e=yield l({path:Object(y.addQueryArgs)(b,{_embed:1}),method:"POST",data:t})}catch(e){return yield P(t,e),e}return yield G(t,e),yield v(e),yield*S(e),e}function*B(t,e){let n;yield U(t,e);try{n=yield l({path:b+"/"+t,method:"PUT",data:e})}catch(e){return yield A(t,e),e}return yield R(t,n),yield v(n),n}function*L(t){yield j(t);try{yield l({path:`${b}/${t}`,method:"DELETE"})}catch(e){return yield C(t,e),e}return yield N(t),null}function*H(t){let{create:e=[],update:n=[],delete:r=[]}=t;const i=[];for(const t of n)i.push({method:"PUT",path:`${b}/${t.id}`,body:t}),yield U(t.id);for(const t of e)i.push({method:"POST",path:b,body:t}),yield T(t);for(const t of r)i.push({method:"DELETE",path:`${b}/${t}`}),yield j(t);let s;const u={};try{s=yield Object(o.apiFetchBatch)(i)}catch(t){for(const e of n)yield A(e.id,t);for(const n of e)yield P(n,t);for(const e of r)yield C(e,t);return t}for(let t=0;t<i.length;t++){var c;const e=i[t],n=e.body,r=s[t],o=(null==n?void 0:n.id)||(null===(c=r.body)||void 0===c?void 0:c.id)||e.path.replace(b+"/","");o&&(u[o]=r),r.status>=400?"PUT"===e.method?yield A(o,r.body):"DELETE"===e.method?yield C(o,r.body):yield P(n,r.body):("PUT"===e.method?yield R(o,r.body):"DELETE"===e.method?yield N(o):yield G(n,r.body),yield v(n))}return{responses:s,byId:u}}function*q(t,e){let n;yield w(t,e);try{n=yield l({path:"ithemes-security/v1/user-matchable-settings/"+t,method:"PUT",data:e})}catch(e){return yield F(t,e),e}return yield k(t,n),yield D(t,n),n}function*M(t){const e=[],n=Object.keys(t);for(const r of n)e.push({method:"PUT",path:"/ithemes-security/v1/user-matchable-settings/"+r,body:t[r]}),yield w(r,t[r]);let r;try{r=yield Object(o.apiFetchBatch)(e)}catch(t){for(const e of n)yield F(e,t);return t}const i={};for(let t=0;t<e.length;t++){const e=n[t],s=r[t];i[e]=s.body,s.status>=400?yield F(e,s.body):(yield k(e,s.body),yield D(e,s.body))}return{responses:r,byId:i}}function*Q(){let t,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];yield W(e);try{let n="ithemes-security/v1/user-matchable-settings";e.length>0&&(n=Object(y.addQueryArgs)(n,{include:e})),t=yield l({path:n})}catch(t){return yield K(e,t),t}yield $(e,t);for(const e in t)t.hasOwnProperty(e)&&(yield D(e,t[e]));return t}function W(t){return{type:yt,groupIds:t}}function $(t,e){return{type:bt,groupIds:t,response:e}}function K(t,e){return{type:mt,groupIds:t,error:e}}function*V(t,e){let n;yield z(t,e);try{n=yield l({path:Object(y.addQueryArgs)("ithemes-security/v1/user-matchable-settings",{include:t}),method:"PATCH",data:e})}catch(n){return yield J(t,e,n),n}yield Y(t,e,n);const r=yield u.controls.resolveSelect("ithemes-security/core","getSchema","ithemes-security-user-group-settings"),i=Object(a.g)(r,"self");if(!i)return n;const s=new h.a(i.href);for(const t of n){if(200!==t.status)continue;const e=s.fromUri(t.href);e.id&&(yield D(e.id,t.response))}return n}function z(t,e){return{type:Et,groupIds:t,patch:e}}function Y(t,e,n){return{type:_t,groupIds:t,patch:e,response:n}}function J(t,e,n){return{type:St,groupIds:t,patch:e,error:n}}const X="RECEIVE_QUERY",Z="APPEND_TO_QUERY",tt="RECEIVE_MATCHABLES",et="START_CREATE_GROUP",nt="FINISH_CREATE_GROUP",rt="FAILED_CREATE_GROUP",it="RECEIVE_GROUP",st="GROUP_NOT_FOUND",ut="START_UPDATE_GROUP",ot="FINISH_UPDATE_GROUP",ct="FAILED_UPDATE_GROUP",dt="START_DELETE_GROUP",at="FINISH_DELETE_GROUP",lt="FAILED_DELETE_GROUP",ft="RECEIVE_GROUP_SETTINGS",gt="START_UPDATE_GROUP_SETTINGS",pt="FINISH_UPDATE_GROUP_SETTINGS",ht="FAILED_UPDATE_GROUP_SETTINGS",yt="START_FETCH_GROUPS_SETTINGS",bt="FINISH_FETCH_GROUPS_SETTINGS",mt="FAILED_FETCH_GROUPS_SETTINGS",Et="START_PATCH_BULK_GROUP_SETTINGS",_t="FINISH_PATCH_BULK_GROUP_SETTINGS",St="FAILED_PATCH_BULK_GROUP_SETTINGS";var vt=n("pPDe"),Ot=n("4eJC"),It=n.n(Ot);const Tt=Object(vt.a)(t=>Object(g.filter)(Object(g.map)(t.matchableIds,e=>t.matchablesById[e]),g.isObject),t=>[t.matchablesById,t.matchableIds]);function Pt(t,e){return(t.matchablesById[e]||{}).type}function Gt(t,e){return(t.matchablesById[e]||{}).label}const Ut=Object(vt.a)((t,e)=>Object(g.filter)(Object(g.map)(t.queries[e],e=>t.byId[e]),g.isObject),(t,e)=>[t.queries[e],t.byId]),At=[];function Rt(t,e){return t.queries[e]||At}function jt(t,e){return t.groupsNotFound.includes(e)}function Ct(t,e){return t.byId[e]}const Nt=Object(u.createRegistrySelector)(t=>(e,n,r)=>{const i=t("ithemes-security/user-groups").getGroup(n);return i?i[r]:void 0});function Dt(t,e){return t.updating.includes(e)}function wt(t,e){return t.deleting.includes(e)}function Ft(t,e){return t.settings[e]}const kt=Object(u.createRegistrySelector)(t=>(e,n,r,i)=>{const s=t("ithemes-security/user-groups").getGroupSettings(n);return Object(g.get)(s,[r,i])});function xt(t,e){return t.updatingSettings.includes(e)}function Bt(t,e,n){const r=e.join("_");return t.bulkPatchingSettings[r]===n}function Lt(t){const e={};for(const n in t.settings)if(t.settings.hasOwnProperty(n))for(const r in t.settings[n])if(t.settings[n].hasOwnProperty(r))for(const i in t.settings[n][r])t.settings[n][r].hasOwnProperty(i)&&(e[r]||(e[r]={}),e[r][i]||(e[r][i]=[]),t.settings[n][r][i]&&e[r][i].push(n));return e}const Ht=It()((t,e,n,r,i,s)=>{let{skipConditions:u=!1}=n;return r.reduce((n,o)=>{if("active"!==o.status.selected)return n;if(!(t=>!e.module||e.module===t.id)(o))return n;if("password-requirements"!==o.id&&Object(g.isEmpty)(o.user_groups))return n;const c=Object(g.pickBy)("password-requirements"===o.id?function(t){return Object.fromEntries(t.filter(t=>!Object(g.isEmpty)(t.password_requirements)).flatMap(t=>Object.entries(t.password_requirements).filter(t=>{let[,e]=t;return e.hasOwnProperty("user-group")}).map(e=>{let[n,r]=e;return[`requirement_settings.${n}.group`,{title:r.title||t.title,description:r.description||t.description}]})))}(r):o.user_groups,e=>{if(!e.conditional||u)return!0;if(e.conditional["active-modules"])for(const t of e.conditional["active-modules"])if(!i.includes(t))return!1;if(e.conditional.settings){if(!t.compile(e.conditional.settings)(s[o.id]))return!1}return!0});return Object(g.isEmpty)(c)||n.push({id:o.id,title:o.title,description:o.description,settings:c}),n},[])},{maxSize:1}),qt={},Mt=Object(u.createRegistrySelector)(t=>function(e,n){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:qt,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:qt;return Ht(n,r,i,t(o.MODULES_STORE_NAME).getEditedModules(),t(o.MODULES_STORE_NAME).getActiveModules(),t(o.MODULES_STORE_NAME).__unstableGetAllEditedSettings())}),Qt={matchablesById:{},matchableIds:[],byId:{},groupsNotFound:[],queries:{},creating:[],updating:[],deleting:[],settings:{},updatingSettings:[],bulkPatchingSettings:{}};const Wt={*fulfill(t){try{const e=yield l({path:`${b}/${t}?_embed=1`});yield v(e),yield*S(e)}catch(e){yield O(t)}},isFulfilled:(t,e)=>!!t.byId[e]},$t={*fulfill(){const t=yield l({path:"/ithemes-security/v1/user-matchables?_embed=1"});for(const e of t){const t=Object(g.get)(e,["_embedded","self",0]),n=Object(g.get)(e,["_embedded","ithemes-security:user-matchable-settings",0]);t&&(yield v(t)),n&&(yield D(e.id,n))}yield I(t)},isFulfilled:t=>!Object(g.isEmpty)(t.matchablesById)},Kt={*fulfill(t){try{const e=yield l({path:"ithemes-security/v1/user-matchable-settings/"+t});yield D(t,e)}catch(e){yield O(t)}},isFulfilled:(t,e)=>!!t.settings[e]},Vt={*fulfill(){yield u.controls.resolveSelect("ithemes-security/user-groups","getMatchables")},isFulfilled:t=>!Object(g.isEmpty)(t.matchablesById)};var zt=Object(u.registerStore)("ithemes-security/user-groups",{controls:{...o.controls,...f},actions:r,selectors:i,resolvers:s,reducer:function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Qt,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case tt:return{...t,matchableIds:Object(g.map)(e.matchables,"id"),matchablesById:Object(g.keyBy)(e.matchables,"id")};case X:return{...t,byId:{...t.byId,...Object(g.keyBy)(e.items,"id")},queries:{...t.queries,[e.queryId]:Object(g.map)(e.items,"id")}};case Z:return{...t,byId:{...t.byId,[e.item.id]:e.item},queries:{...t.queries,[e.queryId]:[...t.queries[e.queryId]||[],e.item.id]}};case it:return{...t,byId:{...t.byId,[e.group.id]:e.group},matchablesById:t.matchablesById[e.group.id]?{...t.matchablesById,[e.group.id]:{...t.matchablesById[e.group.id],label:e.group.label}}:t.matchablesById};case st:return{...t,groupsNotFound:t.groupsNotFound.includes(e.id)?t.groupsNotFound:[...t.groupsNotFound,e.id]};case et:return{...t,creating:[...t.creating,e.group]};case nt:return{...t,creating:t.creating.filter(t=>t!==e.group),matchablesById:{...t.matchablesById,[e.response.id]:{id:e.response.id,label:e.response.label,type:"user-group"}},matchableIds:[...t.matchableIds,[e.response.id]]};case rt:return{...t,creating:t.creating.filter(t=>t!==e.group)};case ut:return{...t,updating:[...t.updating,e.id]};case ot:case ct:return{...t,updating:t.updating.filter(t=>t!==e.id)};case dt:return{...t,deleting:[...t.deleting,e.id]};case at:return{...t,deleting:t.deleting.filter(t=>t!==e.id),byId:Object(g.omit)(t.byId,[e.id]),matchablesById:Object(g.omit)(t.matchablesById,[e.id]),matchableIds:t.matchableIds.filter(t=>t!==e.id),settings:Object(g.omit)(t.settings,[e.id])};case lt:return{...t,deleting:t.deleting.filter(t=>t!==e.id)};case ft:return{...t,settings:{...t.settings,[e.id]:e.settings}};case gt:return{...t,updatingSettings:[...t.updatingSettings,e.id]};case pt:case ht:return{...t,updatingSettings:t.updatingSettings.filter(t=>t!==e.id)};case Et:return{...t,bulkPatchingSettings:{...t.bulkPatchingSettings,[e.groupIds.join("_")]:e.patch}};case _t:case St:return{...t,bulkPatchingSettings:Object(g.omit)(t.bulkPatchingSettings,[e.groupIds.join("_")])};default:return t}}});n.p=window.itsecWebpackPublicPath},Td6G:function(t,e,n){"use strict";n.d(e,"c",(function(){return h})),n.d(e,"b",(function(){return m})),n.d(e,"o",(function(){return _})),n.d(e,"m",(function(){return S})),n.d(e,"j",(function(){return v})),n.d(e,"e",(function(){return O})),n.d(e,"f",(function(){return I})),n.d(e,"d",(function(){return T})),n.d(e,"l",(function(){return P})),n.d(e,"a",(function(){return G})),n.d(e,"i",(function(){return U})),n.d(e,"h",(function(){return A})),n.d(e,"g",(function(){return R})),n.d(e,"k",(function(){return j})),n.d(e,"n",(function(){return C}));var r=n("YLtl"),i=n("GRId"),s=n("Mmq9"),u=n("lSNA"),o=n.n(u),c=n("92Nh"),d=n.n(c),a=n("tmk3"),l=n.n(a);function f(t,e,n){!function(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}(t,e),e.set(t,n)}var g=new WeakMap,p=new WeakMap;class h{constructor(){var t=this;let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0;f(this,g,{writable:!0,value:{}}),f(this,p,{writable:!0,value:{}}),o()(this,"add",(t,e)=>(l()(this,g)[t]||(l()(this,g)[t]=[]),l()(this,g)[t].push(e),this)),o()(this,"hasErrors",()=>this.getErrorCodes().length>0),o()(this,"getErrorCodes",()=>Object.keys(l()(this,g))),o()(this,"getErrorCode",()=>this.getErrorCodes()[0]),o()(this,"getErrorMessages",(function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0;if(e)return l()(t,g)[e];const n=[];for(const e in l()(t,g))l()(t,g).hasOwnProperty(e)&&n.concat(l()(t,g)[e]);return n})),o()(this,"getErrorMessage",(function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0;return e=e||t.getErrorCode(),t.getErrorMessages(e)[0]})),o()(this,"getErrorData",(function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0;return e=e||t.getErrorCode(),l()(t,p)[e]})),o()(this,"getAllErrorMessages",()=>{const t=[];for(const e in l()(this,g))l()(this,g).hasOwnProperty(e)&&t.push(...l()(this,g)[e]);return t}),e&&(n&&(l()(this,g)[e]=[n]),r&&(l()(this,p)[e]=r))}static fromPHPObject(t){const e=new h;return d()(e,g,t.errors),d()(e,p,t.error_data),e}static fromApiError(t){const e=new h;if(l()(e,g)[t.code]=[t.message],l()(e,p)[t.code]=t.data,t.additional_errors)for(const n of t.additional_errors)l()(e,g)[n.code]=[n.message],l()(e,p)[n.code]=n.data;return e}}var y=n("l3Sj");class b extends Error{constructor(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];super(t.message||Object(y.__)("An unknown error occurred.","better-wp-security"),...n),Error.captureStackTrace&&Error.captureStackTrace(this,b),this.__response=t;for(const e in t)t.hasOwnProperty(e)&&Object.defineProperty(this,e,{value:t[e],configurable:!0,enumerable:!0,writable:!0})}toString(){return this.__response.toString()}getResponse(){return this.__response}}n("LhCv");class m{constructor(t,e,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[],s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:[];o()(this,"type",void 0),o()(this,"error",void 0),o()(this,"data",void 0),o()(this,"success",void 0),o()(this,"info",void 0),o()(this,"warning",void 0),this.type=t,this.error=e,this.data=n,this.success=r,this.info=i,this.warning=s,Object.seal(this)}isSuccess(){return this.type===m.SUCCESS}static async fromResponse(t){const e=e=>{var n;const r=null===(n=t.headers)||void 0===n?void 0:n.get("X-Messages-"+e);return r?JSON.parse(r):[]},n=204!==t.status&&t.json?await t.json():null,r=O(n),i=r.hasErrors()?m.ERROR:m.SUCCESS,s=e("Success"),u=e("Info"),o=e("Warning");return new m(i,r,n,s,u,o)}}Object.defineProperty(m,"SUCCESS",{value:"success",writable:!1,enumerable:!1,configurable:!1}),Object.defineProperty(m,"ERROR",{value:"error",writable:!1,enumerable:!1,configurable:!1});const E=Object(i.createContext)({getUrl(t){t="settings"===t?"itsec":"itsec-"+t;const e=Object(s.removeQueryArgs)(document.location.href,...Object.keys(Object(s.getQueryArgs)(document.location.href)));return Object(s.addQueryArgs)(e,{page:t})}});function _(t){const{getUrl:e}=Object(i.useContext)(E);return e(t)}function S(t){if(t<=999)return t.toString();if(t<=9999){const e=(t/1e3).toFixed(1);return"0"===e.charAt(e.length-1)?e.replace(".0","k"):e+"k"}if(t<=99999)return t.toString().substring(0,2)+"k";if(t<=999999)return t.toString().substring(0,3)+"k";if(t<=9999999){const e=(t/1e6).toFixed(1);return"0"===e.charAt(e.length-1)?e.replace(".0","m"):e+"m"}if(t<=99999999)return t.toString().substring(0,2)+"m";if(t<=999999999)return t.toString().substring(0,3)+"m";if(t<=9999999999){const e=(t/1e9).toFixed(1);return"0"===e.charAt(e.length-1)?e.replace(".0","b"):e+"b"}return t}function v(t){if(!Object(r.isPlainObject)(t))return!1;const e=Object.keys(t);return 2===e.length&&(e.includes("errors")&&e.includes("error_data"))}function O(t){return t instanceof h?t:v(t)?h.fromPHPObject(t):function(t){if(!Object(r.isPlainObject)(t))return!1;const e=Object.keys(t);return(3===e.length||4===e.length)&&(!(4===e.length&&!e.includes("additional_errors"))&&(e.includes("code")&&e.includes("message")&&e.includes("data")))}(t)?h.fromApiError(t):new h}function I(t){const e={};for(const[n,r]of t)e[n]=r;return e}function T(t,e){const n=[[],[]];for(const r of t)n[e(r)?0:1].push(r);return n}function P(t){if(t instanceof Error)throw t;throw new b(t)}const G="https://secure.gravatar.com/avatar/d7a973c7dab26985da5f961be7b74480?s=96&d=mm&f=y&r=g";function U(t,e){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return Object(r.get)(t,["_links","self",0,"targetHints",e],n?void 0:[])}function A(t){return function(t,e){return Object(r.get)(t,["_links",e,0,"href"])}(t,"self")}function R(t,e){if(t&&t.links)for(const n of t.links)if(n.rel===e)return n}function j(t,e){if("object"!==t.type)return t;let n;for(const i in e)e.hasOwnProperty(i)&&"hidden"===e[i]["ui:widget"]&&(n||(n=Object(r.cloneDeep)(t)),delete n.properties[i]);return n||t}function C(t){let e=[];if(!t)return e;const n=t instanceof h?t:O(Object(r.pick)(t,["code","message","data"]));return"rest_invalid_param"===n.getErrorCode()&&(e=Object.values(n.getErrorData().params)),[...n.getAllErrorMessages(),...e]}},YLtl:function(t,e){!function(){t.exports=this.lodash}()},l3Sj:function(t,e){!function(){t.exports=this.wp.i18n}()},pPDe:function(t,e,n){"use strict";var r,i;function s(t){return[t]}function u(){var t={clear:function(){t.head=null}};return t}function o(t,e,n){var r;if(t.length!==e.length)return!1;for(r=n;r<t.length;r++)if(t[r]!==e[r])return!1;return!0}r={},i="undefined"!=typeof WeakMap,e.a=function(t,e){var n,c;function d(){n=i?new WeakMap:u()}function a(){var n,r,i,s,u,d=arguments.length;for(s=new Array(d),i=0;i<d;i++)s[i]=arguments[i];for(u=e.apply(null,s),(n=c(u)).isUniqueByDependants||(n.lastDependants&&!o(u,n.lastDependants,0)&&n.clear(),n.lastDependants=u),r=n.head;r;){if(o(r.args,s,1))return r!==n.head&&(r.prev.next=r.next,r.next&&(r.next.prev=r.prev),r.next=n.head,r.prev=null,n.head.prev=r,n.head=r),r.val;r=r.next}return r={val:t.apply(null,s)},s[0]=null,r.args=s,n.head&&(n.head.prev=r,r.next=n.head),n.head=r,r.val}return e||(e=s),c=i?function(t){var e,i,s,o,c,d=n,a=!0;for(e=0;e<t.length;e++){if(i=t[e],!(c=i)||"object"!=typeof c){a=!1;break}d.has(i)?d=d.get(i):(s=new WeakMap,d.set(i,s),d=s)}return d.has(r)||((o=u()).isUniqueByDependants=a,d.set(r,o)),d.get(r)}:function(){return n},a.getDependants=e,a.clear=d,d(),a}},qPad:function(t,e,n){var r,i;r=this,i=function(){var t={"+":!0,"#":!0,".":!0,"/":!0,";":!0,"?":!0,"&":!0},e={"*":!0};function n(t){return encodeURI(t).replace(/%25[0-9][0-9]/g,(function(t){return"%"+t.substring(3)}))}function r(t){return t=t.replace(/%../g,""),encodeURIComponent(t)===t}function i(i){var s="";t[i.charAt(0)]&&(s=i.charAt(0),i=i.substring(1));var u="",o="",c=!0,d=!1,a=!1;"+"==s?c=!1:"."==s?(o=".",u="."):"/"==s?(o="/",u="/"):"#"==s?(o="#",c=!1):";"==s?(o=";",u=";",d=!0,a=!0):"?"==s?(o="?",u="&",d=!0):"&"==s&&(o="&",u="&",d=!0);for(var l=[],f=i.split(","),g=[],p={},h=0;h<f.length;h++){var y=f[h],b=null;if(-1!=y.indexOf(":")){var m=y.split(":");y=m[0],b=parseInt(m[1])}for(var E={};e[y.charAt(y.length-1)];)E[y.charAt(y.length-1)]=!0,y=y.substring(0,y.length-1);var _={truncate:b,name:y,suffices:E};g.push(_),p[y]=_,l.push(y)}return{varNames:l,prefix:o,substitution:function(t){for(var e="",r=0,i=0;i<g.length;i++){var s=g[i],l=t(s.name);if(null==l||Array.isArray(l)&&0==l.length||"object"==typeof l&&0==Object.keys(l).length)r++;else if(e+=i==r?o:u||",",Array.isArray(l)){d&&(e+=s.name+"=");for(var f=0;f<l.length;f++)f>0&&(e+=s.suffices["*"]&&u||",",s.suffices["*"]&&d&&(e+=s.name+"=")),e+=c?encodeURIComponent(l[f]).replace(/!/g,"%21"):n(l[f])}else if("object"==typeof l){d&&!s.suffices["*"]&&(e+=s.name+"=");var p=!0;for(var h in l)p||(e+=s.suffices["*"]&&u||","),p=!1,e+=c?encodeURIComponent(h).replace(/!/g,"%21"):n(h),e+=s.suffices["*"]?"=":",",e+=c?encodeURIComponent(l[h]).replace(/!/g,"%21"):n(l[h])}else d&&(e+=s.name,a&&""==l||(e+="=")),null!=s.truncate&&(l=l.substring(0,s.truncate)),e+=c?encodeURIComponent(l).replace(/!/g,"%21"):n(l)}return e},unSubstitution:function(t,e,n){if(o&&(t=t.substring(o.length)),1==g.length&&g[0].suffices["*"]){for(var i=(O=g[0]).name,s=O.suffices["*"]?t.split(u||","):[t],a=c&&-1!=t.indexOf("="),l=1;l<s.length;l++)t=s[l],a&&-1==t.indexOf("=")&&(s[l-1]+=(u||",")+t,s.splice(l,1),l--);for(l=0;l<s.length;l++)t=s[l],c&&-1!=t.indexOf("=")&&(a=!0),1==(m=t.split(",")).length?s[l]=m[0]:s[l]=m;if(d||a){for(var f=e[i]||{},h=0;h<s.length;h++){var y=t;if(!d||y){if("string"==typeof s[h]){var b=(t=s[h]).split("=",1)[0];if(t=t.substring(b.length+1),c){if(n&&!r(t))return;t=decodeURIComponent(t)}y=t}else{if(b=(t=s[h][0]).split("=",1)[0],t=t.substring(b.length+1),c){if(n&&!r(t))return;t=decodeURIComponent(t)}s[h][0]=t,y=s[h]}if(c){if(n&&!r(b))return;b=decodeURIComponent(b)}void 0!==f[b]?Array.isArray(f[b])?f[b].push(y):f[b]=[f[b],y]:f[b]=y}}1==Object.keys(f).length&&void 0!==f[i]?e[i]=f[i]:e[i]=f}else{if(c)for(h=0;h<s.length;h++){var m=s[h];if(Array.isArray(m))for(var E=0;E<m.length;E++){if(n&&!r(m[E]))return;m[E]=decodeURIComponent(m[E])}else{if(n&&!r(m))return;s[h]=decodeURIComponent(m)}}void 0!==e[i]?Array.isArray(e[i])?e[i]=e[i].concat(s):e[i]=[e[i]].concat(s):1!=s.length||O.suffices["*"]?e[i]=s:e[i]=s[0]}}else{s=1==g.length?[t]:t.split(u||",");var _={};for(l=0;l<s.length;l++){for(var S=0;S<g.length-1&&S<l&&!g[S].suffices["*"];S++);if(S!=l){for(var v=g.length-1;v>0&&g.length-v<s.length-l&&!g[v].suffices["*"];v--);g.length-v!=s.length-l?_[l]=S:_[l]=v}else _[l]=l}for(l=0;l<s.length;l++)if((t=s[l])||!d){if(m=t.split(","),a=!1,d){i=(t=m[0]).split("=",1)[0],t=t.substring(i.length+1),m[0]=t;var O=p[i]||g[0]}else i=(O=g[_[l]]).name;for(h=0;h<m.length;h++)if(c){if(n&&!r(m[h]))return;m[h]=decodeURIComponent(m[h])}(d||O.suffices["*"])&&void 0!==e[i]?Array.isArray(e[i])?e[i]=e[i].concat(m):e[i]=[e[i]].concat(m):1!=m.length||O.suffices["*"]?e[i]=m:e[i]=m[0]}}return 1}}}function s(t){if(!(this instanceof s))return new s(t);for(var e=t.split("{"),n=[e.shift()],r=[],u=[],o=[],c=[];e.length>0;){var d=e.shift(),a=d.split("}")[0],l=d.substring(a.length+1),f=i(a);u.push(f.substitution),o.push(f.unSubstitution),r.push(f.prefix),n.push(l),c=c.concat(f.varNames)}this.fill=function(t){if(t&&"function"!=typeof t){var e=t;t=function(t){return e[t]}}for(var r=n[0],i=0;i<u.length;i++)r+=(0,u[i])(t),r+=n[i+1];return r},this.fromUri=function(t,e){e=e||{};for(var i={},s=0;s<n.length;s++){var u=n[s];if(t.substring(0,u.length)!==u)return;if(t=t.substring(u.length),s>=n.length-1){if(""==t)break;return}var c=r[s];if(!c||t.substring(0,c.length)===c){for(var d=n[s+1],a=s;;){if(a==n.length-2){var l=t.substring(t.length-d.length);if(l!==d)return;var f=t.substring(0,t.length-d.length);t=l}else if(d){var g=t.indexOf(d);f=t.substring(0,g),t=t.substring(g)}else if(r[a+1])-1===(g=t.indexOf(r[a+1]))&&(g=t.length),f=t.substring(0,g),t=t.substring(g);else{if(n.length>a+2){a++,d=n[a+1];continue}f=t,t=""}break}if(!o[s](f,i,e.strict))return}}return i},this.varNames=c,this.template=t}return s.prototype={toString:function(){return this.template},fillFromObject:function(t){return this.fill(t)},test:function(t,e){return!!this.fromUri(t,e)}},s},"function"==typeof define&&define.amd?define("uri-templates",[],i):t.exports?t.exports=i():r.UriTemplate=i()},ywyh:function(t,e){!function(){t.exports=this.wp.apiFetch}()},z1rk:function(t,e){!function(){t.exports=this.itsec.packages.data}()}},[["Ntz8",0,1]]]);